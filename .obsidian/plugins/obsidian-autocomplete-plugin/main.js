'use strict';

var obsidian = require('obsidian');

/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
/* global Reflect, Promise */

var extendStatics = function(d, b) {
    extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };
    return extendStatics(d, b);
};

function __extends(d, b) {
    extendStatics(d, b);
    function __() { this.constructor = d; }
    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
}

function __awaiter(thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
}

function __generator(thisArg, body) {
    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;
    function verb(n) { return function (v) { return step([n, v]); }; }
    function step(op) {
        if (f) throw new TypeError("Generator is already executing.");
        while (_) try {
            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;
            if (y = 0, t) op = [op[0] & 2, t.value];
            switch (op[0]) {
                case 0: case 1: t = op; break;
                case 4: _.label++; return { value: op[1], done: false };
                case 5: _.label++; y = op[1]; op = [0]; continue;
                case 7: op = _.ops.pop(); _.trys.pop(); continue;
                default:
                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }
                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }
                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }
                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }
                    if (t[2]) _.ops.pop();
                    _.trys.pop(); continue;
            }
            op = body.call(thisArg, _);
        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }
        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };
    }
}

function defaultDirection() {
    return { index: 0, direction: 'still' };
}
function generateView(suggestions, selectedIndex) {
    var suggestionsHtml = suggestions.map(function (tip, index) {
        var isSelected = selectedIndex === index;
        return "\n        <div id=\"suggestion-" + index + "\" class=\"no-space-wrap suggestion-item" + (isSelected ? ' is-selected' : '') + "\">\n          <div id=\"suggestion-" + index + "\" class=\"suggestion-content\">\n          <span class=\"suggestion-flair\">" + tip.category + "</span>\n          " + tip.value + "\n          </div>\n        </div>\n      ";
    }, []);
    var viewString = "\n      <div id=\"suggestion-list\" class=\"suggestion\">\n        " + suggestionsHtml.join('\n') + "\n      </div>\n      <div class=\"prompt-instructions\">\n        <div class=\"prompt-instruction\">\n          <span class=\"prompt-instruction-command\">Ctrl+N</span>\n          <span>Next Suggestion</span>\n        </div>\n        <div class=\"prompt-instruction\">\n          <span class=\"prompt-instruction-command\">Ctrl+P</span>\n          <span>Previous Suggestion</span>\n        </div>\n        <div class=\"prompt-instruction\">\n          <span class=\"prompt-instruction-command\">Enter</span>\n          <span>Select Suggestion</span>\n        </div>\n      </div>\n    ";
    var containerNode = document.createElement('div');
    if (suggestionsHtml.length > 0) {
        containerNode.classList.add('suggestion-container');
        containerNode.insertAdjacentHTML('beforeend', viewString);
    }
    return containerNode;
}
function getRange(cursorAtTrigger, cursorIndex) {
    var updatedCursorFrom = {
        line: cursorAtTrigger.line,
        ch: cursorAtTrigger.ch
    };
    var updatedCursorTo = {
        line: cursorAtTrigger.line,
        ch: cursorIndex
    };
    return [updatedCursorFrom, updatedCursorTo];
}
function updateCachedView(view, selectedIndex) {
    var _a;
    var children = (_a = view.firstElementChild) === null || _a === void 0 ? void 0 : _a.children;
    if (!children)
        return;
    for (var index = 0; index < children.length; index++) {
        var child = children[index];
        child.toggleClass('is-selected', index === selectedIndex);
    }
}
function scrollTo(selected, view, suggestionsLength) {
    if (!view || suggestionsLength === 0)
        return;
    // TODO: Improve scrolling with page size and boundaries
    var parent = view.children[0];
    var selectedIndex = selected.index;
    var child = parent.children[0];
    if (child) {
        var scrollAmount = child.scrollHeight * selectedIndex;
        switch (selected.direction) {
            case 'forward':
                if (selectedIndex === 0)
                    // End -> Start
                    parent.scrollTop = 0;
                else
                    parent.scrollTop = scrollAmount;
                break;
            case 'backward':
                if (selectedIndex === suggestionsLength - 1)
                    // End <- Start
                    parent.scrollTop = parent.scrollHeight;
                else
                    parent.scrollTop = scrollAmount;
                break;
        }
    }
}
function completionWordIn(editor, cursorAtTrigger) {
    var cursor = editor.getCursor();
    var currentLine = editor.getLine(cursor.line);
    var word = currentLine.substring((cursorAtTrigger === null || cursorAtTrigger === void 0 ? void 0 : cursorAtTrigger.ch) || 0, cursor.ch);
    return word;
}
function appendWidget(editor, view, scrollable) {
    if (scrollable === void 0) { scrollable = true; }
    var cursor = editor.getCursor();
    editor.addWidget({ ch: cursor.ch, line: cursor.line }, view, scrollable);
}

var Provider = /** @class */ (function () {
    function Provider() {
    }
    Provider.prototype.matchWith = function (input) {
        var _this = this;
        // TODO: Improve filtering with weights
        var suggestions = this.completions.filter(function (val) { return val.includes(input); })
            .map(function (sugg) {
            return { category: _this.category, value: sugg };
        })
            .sort(function (a, b) { return a.value.length - b.value.length; });
        return suggestions;
    };
    return Provider;
}());

var LatexProvider = /** @class */ (function (_super) {
    __extends(LatexProvider, _super);
    function LatexProvider() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.category = "L";
        _this.completions = ["\\Arrowvert", "\\Bbbk", "\\Big", "\\Bigg", "\\Biggl", "\\Biggr", "\\Bigl", "\\Bigm", "\\Bigr", "\\Box", "\\Bumpeq", "\\Cap", "\\cite[#{}]{#{}}", "\\cite", "\\Cup", "\\DeclareMathOperator{#{}}{#{}}", "\\Delta", "\\Downarrow", "\\Finv", "\\Game", "\\Gamma", "\\Im", "\\Lambda", "\\Leftarrow", "\\Leftrightarrow", "\\Lleftarrow", "\\Longleftarrow", "\\Longleftrightarrow", "\\Longrightarrow", "\\Lsh", "\\Omega", "\\Phi", "\\Pi", "\\Pr", "\\Psi", "\\Re", "\\Rightarrow", "\\Rrightarrow", "\\Rsh", "\\S", "\\Sigma", "\\Subset", "\\Supset", "\\TeX", "\\Theta", "\\Uparrow", "\\Updownarrow", "\\Upsilon", "\\Vdash", "\\Vert", "\\Vvdash", "\\Xi", "\\above", "\\abovewithdelims", "\\acute{#{}}", "\\aleph", "\\alpha", "\\amalg", "\\angle", "\\approx", "\\approxeq", "\\arccos", "\\arcsin", "\\arctan", "\\arg", "\\arrowvert", "\\ast", "\\asymp", "\\atop",
            "\\atopwithdelims", "\\backepsilon", "\\backprime", "\\backsim", "\\backsimeq", "\\backslash", "\\bar{#{}}", "\\barwedge", "\\because", "\\beta", "\\beth", "\\between", "\\bf", "\\big", "\\bigcap", "\\bigcirc", "\\bigcup", "\\bigg", "\\biggl", "\\biggm", "\\biggr", "\\bigl", "\\bigm", "\\bigodot", "\\bigoplus", "\\bigotimes", "\\bigr\\}", "\\bigsqcup", "\\bigstar", "\\bigtriangledown", "\\bigtriangleup", "\\biguplus", "\\bigvee", "\\bigwedge", "\\binom{#{}}{#{}}", "\\blacklozenge", "\\blacksquare", "\\blacktriangle", "\\blacktriangledown", "\\blacktriangleleft", "\\blacktriangleright", "\\bmod", "\\boldsymbol{#{}}", "\\bot", "\\bowtie", "\\boxdot", "\\boxed{#{}}", "\\boxminus", "\\boxplus", "\\boxtimes", "\\brace", "\\bracevert", "\\brack", "\\breve{#{}}", "\\buildrel", "\\bullet", "\\bumpeq", "\\cal", "\\cap", "\\cases{#{}}", "\\cdot", "\\cdotp", "\\cdots",
            "\\centerdot", "\\cfrac{#{}}{#{}}", "\\check{#{}}", "\\checkmark", "\\chi", "\\choose", "\\circ", "\\circeq", "\\circlearrowleft", "\\circlearrowright", "\\circledS", "\\circledast", "\\circledcirc", "\\circleddash", "\\clubsuit", "\\colon", "\\complement", "\\cong", "\\coprod", "\\cos", "\\cosh", "\\cot", "\\coth", "\\cr", "\\csc", "\\cup", "\\curlyeqprec", "\\curlyeqsucc", "\\curlyvee", "\\curlywedge", "\\curvearrowleft", "\\curvearrowright", "\\dagger", "\\daleth", "\\dashleftarrow", "\\dashrightarrow", "\\dashv", "\\dbinom{#{}}{#{}}", "\\ddagger", "\\ddddot{#{}}", "\\dddot{#{}}", "\\ddot{#{}}", "\\ddots", "\\def", "\\deg", "\\delta", "\\det", "\\dfrac{#{}}{#{}}", "\\diagdown", "\\diagup", "\\diamond", "\\diamondsuit", "\\digamma", "\\dim", "\\displaylines", "\\displaystyle", "\\div", "\\divideontimes", "\\dot{#{}}", "\\doteq", "\\doteqdot", "\\dotplus",
            "\\dots", "\\dotsb", "\\dotsc", "\\dotsi", "\\dotsm", "\\dotso", "\\doublebarwedge", "\\downarrow", "\\downdownarrows", "\\downharpoonleft", "\\downharpoonright", "\\ell", "\\emptyset", "\\enspace", "\\epsilon", "\\eqalign{#{}}", "\\eqalignno{#{}}", "\\eqcirc", "\\eqref{#{}}", "\\eqsim", "\\eqslantgtr", "\\eqslantless", "\\equiv", "\\eta", "\\eth", "\\exists", "\\exp", "\\fallingdotseq", "\\flat", "\\forall", "\\frown", "\\gamma", "\\gcd", "\\ge", "\\geq", "\\geqq", "\\geqslant", "\\gets", "\\gg", "\\ggg", "\\gimel", "\\gnapprox", "\\gneq", "\\gneqq", "\\gnsim", "\\grave{#{}}", "\\gtrapprox", "\\gtrdot", "\\gtreqless", "\\gtreqqless", "\\gtrless", "\\gtrsim", "\\gvertneqq", "\\hat{#{}}", "\\hbar", "\\hbox", "\\heartsuit", "\\hfil", "\\hfill", "\\hom", "\\hookleftarrow", "\\hookrightarrow", "\\hphantom{#{}}", "\\hskip", "\\hslash", "\\idotsint", "\\iff",
            "\\iiiint", "\\iiint", "\\iint", "\\imath", "\\impliedby", "\\implies", "\\in", "\\inf", "\\infty", "\\injlim", "\\int\\limits_{#{}}^{#{}}", "\\intercal", "\\iota", "\\it", "\\jmath", "\\kappa", "\\ker", "\\kern", "\\lVert", "\\lambda", "\\land", "\\langle", "\\lbrace", "\\lbrack", "\\lceil", "\\ldotp", "\\ldots", "\\le", "\\left", "\\leftarrow", "\\leftarrowtail", "\\leftharpoondown", "\\leftharpoonup", "\\leftleftarrows", "\\leftrightarrow", "\\leftrightarrows", "\\leftrightharpoons", "\\leftrightsquigarrow", "\\leftroot{#{}}", "\\leftthreetimes", "\\leq", "\\leqalignno{#{}}", "\\leqq", "\\leqslant", "\\lessapprox", "\\lessdot", "\\lesseqgtr", "\\lesseqqgtr", "\\lessgtr", "\\lesssim", "\\let{#{}}{#{}}", "\\lfloor", "\\lg", "\\lgroup", "\\lhd", "\\lim", "\\liminf", "\\limits_{#{}}^{#{}}", "\\limsup", "\\ll", "\\llap{#{}}", "\\llcorner", "\\lll", "\\lmoustache",
            "\\ln", "\\lnapprox", "\\lneq", "\\lneqq", "\\lnot", "\\lnsim", "\\log", "\\longleftarrow", "\\longleftrightarrow", "\\longmapsto", "\\longrightarrow", "\\looparrowleft", "\\looparrowright", "\\lor", "\\lower", "\\lozenge", "\\lrcorner", "\\ltimes", "\\lvert", "\\lvertneqq", "\\maltese", "\\mapsto", "\\mathbb{#{}}", "\\mathbf{#{}}", "\\mathbin", "\\mathcal{#{}}", "\\mathchoice", "\\mathclose", "\\mathfrak{#{}}", "\\mathinner", "\\mathop", "\\mathopen", "\\mathord", "\\mathpunct", "\\mathrel", "\\mathstrut", "\\matrix{#{}}", "\\max", "\\measuredangle", "\\mho", "\\mid", "\\middle", "\\min", "\\mit", "\\mkern", "\\mod", "\\models", "\\moveleft", "\\moveright", "\\mp", "\\mskip", "\\mspace{#{}}", "\\mu", "\\multimap", "\\nLeftarrow", "\\nLeftrightarrow", "\\nRightarrow", "\\nVDash", "\\nVdash", "\\nabla", "\\natural", "\\ncong", "\\ne", "\\nearrow", "\\neg", "\\negmedspace",
            "\\negthickspace", "\\negthinspace", "\\neq", "\\nexists", "\\ngeq", "\\ngeqq", "\\ngeqslant", "\\ngtr", "\\ni", "\\nleftarrow", "\\nleftrightarrow", "\\nleq", "\\nleqq", "\\nleqslant", "\\nless", "\\nmid", "\\nolimits_{#{}}^{#{}}", "\\not", "\\notag", "\\notin", "\\nparallel", "\\nprec", "\\npreceq", "\\nrightarrow", "\\nshortmid", "\\nshortparallel", "\\nsim", "\\nsubseteq", "\\nsubseteqq", "\\nsucc", "\\nsucceq", "\\nsupseteq", "\\nsupseteqq", "\\ntriangleleft", "\\ntrianglelefteq", "\\ntriangleright", "\\ntrianglerighteq", "\\nu", "\\nvDash", "\\nvdash", "\\nwarrow", "\\odot", "\\oint", "\\oldstyle", "\\omega", "\\ominus", "\\operatorname{#{}}", "\\oplus", "\\oslash", "\\otimes", "\\over", "\\overbrace{#{}}", "\\overleftarrow{#{}}", "\\overleftrightarrow{#{}}", "\\overline{#{}}", "\\overrightarrow{#{}}", "\\overset{#{}}{#{}}", "\\overwithdelims", "\\owns",
            "\\parallel", "\\partial", "\\perp", "\\phantom{#{}}", "\\phi", "\\pi", "\\pitchfork", "\\pm", "\\pmatrix{#{}}", "\\pmb{#{}}", "\\pmod", "\\pod", "\\prec", "\\precapprox", "\\preccurlyeq", "\\preceq", "\\precnapprox", "\\precneqq", "\\precnsim", "\\precsim", "\\prime", "\\prod\\limits_{#{}}^{#{}}", "\\projlim", "\\propto", "\\psi", "\\qquad", "\\quad", "\\rVert", "\\raise", "\\rangle", "\\rbrace", "\\rbrack", "\\rceil", "\\rfloor", "\\rgroup", "\\rhd", "\\rho", "\\right", "\\rightarrow", "\\rightarrowtail", "\\rightharpoondown", "\\rightharpoonup", "\\rightleftarrows", "\\rightleftharpoons", "\\rightrightarrows", "\\rightsquigarrow", "\\rightthreetimes", "\\risingdotseq", "\\rlap{#{}}", "\\rm", "\\rmoustache", "\\root #{} \\of #{}", "\\rtimes", "\\rvert", "\\scriptscriptstyle", "\\scriptstyle", "\\searrow", "\\sec", "\\setminus", "\\sharp", "\\shortmid",
            "\\shortparallel", "\\sideset{#{}}{#{}}{#{}}", "\\sigma", "\\sim", "\\simeq", "\\sin", "\\sinh", "\\skew{#{}}{#{}}{#{}}", "\\smallfrown", "\\smallint", "\\smallsetminus", "\\smallsmile", "\\smash{#{}}", "\\smile", "\\space", "\\spadesuit", "\\sphericalangle", "\\sqcap", "\\sqcup", "\\sqrt{#{}}", "\\sqsubset", "\\sqsubseteq", "\\sqsupset", "\\sqsupseteq", "\\square", "\\star", "\\strut", "\\subset", "\\subseteq", "\\subseteqq", "\\subsetneq", "\\subsetneqq", "\\substack{#{}}", "\\succ", "\\succapprox", "\\succcurlyeq", "\\succeq", "\\succnapprox", "\\succneqq", "\\succnsim", "\\succsim", "\\sum\\limits_{#{}}^{#{}}", "\\sup", "\\supset", "\\supseteq", "\\supseteqq", "\\supsetneq", "\\supsetneqq", "\\surd", "\\swarrow", "\\tag{#{}}", "\\tan", "\\tanh", "\\tau", "\\tbinom{#{}}{#{}}", "\\text{#{}}", "\\textstyle", "\\tfrac{#{}}{#{}}", "\\therefore", "\\theta",
            "\\thickapprox", "\\thicksim", "\\thinspace", "\\tilde{#{}}", "\\times", "\\to", "\\top", "\\triangle", "\\triangledown", "\\triangleleft", "\\trianglelefteq", "\\triangleq", "\\triangleright", "\\trianglerighteq", "\\tt", "\\twoheadleftarrow", "\\twoheadrightarrow", "\\ulcorner", "\\underbrace{#{}}", "\\underleftarrow{#{}}", "\\underleftrightarrow{#{}}", "\\underline{#{}}", "\\underrightarrow{#{}}", "\\underset{#{}}{#{}}", "\\unlhd", "\\unrhd", "\\uparrow", "\\updownarrow", "\\upharpoonleft", "\\upharpoonright", "\\uplus", "\\uproot{#{}}", "\\upsilon", "\\upuparrows", "\\urcorner", "\\vDash", "\\varDelta", "\\varGamma", "\\varLambda", "\\varOmega", "\\varPhi", "\\varPi", "\\varPsi", "\\varSigma", "\\varTheta", "\\varUpsilon", "\\varXi", "\\varepsilon", "\\varinjlim", "\\varkappa", "\\varliminf", "\\varlimsup", "\\varnothing", "\\varphi", "\\varpi",
            "\\varprojlim", "\\varpropto", "\\varrho", "\\varsigma", "\\varsubsetneq", "\\varsubsetneqq", "\\varsupsetneq", "\\varsupsetneqq", "\\vartheta", "\\vartriangle", "\\vartriangleleft", "\\vartriangleright", "\\vcenter", "\\vdash", "\\vec{#{}}", "\\vee", "\\veebar", "\\vert", "\\vphantom{#{}}", "\\wedge", "\\widehat{#{}}", "\\widetilde{#{}}", "\\wp", "\\wr", "\\xi", "\\xleftarrow{#{}}", "\\xrightarrow{#{}}", "\\zeta", "\\begin{definition}", "\\begin{tikzcd}", "\\begin{tikzpicture}", "\\begin{align}", "\\begin{align*}", "\\begin{alignat}", "\\begin{alignat*}", "\\begin{aligned}", "\\begin{alignedat}", "\\begin{array}", "\\begin{Bmatrix}", "\\begin{bmatrix}", "\\begin{cases}", "\\begin{CD}", "\\begin{eqnarray}", "\\begin{eqnarray*}", "\\begin{equation}", "\\begin{equation*}", "\\begin{gather}", "\\begin{gather*}", "\\begin{gathered}", "\\begin{matrix}",
            "\\begin{multline}", "\\begin{multline*}", "\\begin{pmatrix}", "\\begin{smallmatrix}", "\\begin{split}", "\\begin{subarray}", "\\begin{Vmatrix}", "\\begin{vmatrix}"];
        return _this;
    }
    return LatexProvider;
}(Provider));

var Autocomplete = /** @class */ (function () {
    function Autocomplete(settings) {
        var _this = this;
        this.keyMaps = {
            // Override code mirror default key maps
            'Ctrl-P': function () { },
            'Ctrl-N': function () { },
            Down: function () { },
            Up: function () { },
            Enter: function (editor) {
                _this.selectSuggestion(editor);
            },
            Esc: function (editor) {
                _this.removeViewFrom(editor);
                if (editor.getOption('keyMap') === 'vim-insert')
                    editor.operation(function () {
                        // https://github.com/codemirror/CodeMirror/blob/bd37a96d362b8d92895d3960d569168ec39e4165/keymap/vim.js#L5341
                        var vim = editor.state.vim;
                        vim.insertMode = false;
                        editor.setOption('keyMap', 'vim');
                    });
            }
        };
        this.settings = settings;
        this.loadProviders();
        this.suggestions = [];
        this.selected = defaultDirection();
        this.view = null;
    }
    Autocomplete.prototype.isShown = function () {
        return this.view !== null;
    };
    Autocomplete.prototype.toggleViewIn = function (editor) {
        var isEnabled = this.settings.enabled;
        if (this.isShown() || !isEnabled) {
            this.cursorAtTrigger = null;
            this.removeViewFrom(editor);
        }
        else if (isEnabled) {
            this.cursorAtTrigger = editor.getCursor();
            this.showViewIn(editor);
        }
    };
    Autocomplete.prototype.updateViewIn = function (editor, event) {
        this.changeSelectedSuggestionFrom(event);
        var completionWord = completionWordIn(editor, this.cursorAtTrigger);
        var recreate = completionWord !== this.lastCompletionWord;
        if (recreate) {
            this.lastCompletionWord = completionWord;
            this.showViewIn(editor, completionWord);
        }
        else
            updateCachedView(this.view, this.selected.index);
        scrollTo(this.selected, this.view, this.suggestions.length);
    };
    Autocomplete.prototype.removeViewFrom = function (editor) {
        this.selected = defaultDirection();
        this.removeKeyBindings(editor);
        if (!this.view)
            return;
        this.addClickListener(this.view, editor, false);
        try {
            var parentNode = this.view.parentNode;
            if (parentNode) {
                var removed = parentNode.removeChild(this.view);
                if (removed)
                    this.view = null;
            }
        }
        catch (e) {
            console.error("Cannot destroy view. Reason: " + e);
        }
    };
    Autocomplete.prototype.showViewIn = function (editor, completionWord) {
        if (completionWord === void 0) { completionWord = ''; }
        if (this.view)
            this.removeViewFrom(editor);
        this.suggestions = this.providers.reduce(function (acc, provider) { return acc.concat(provider.matchWith(completionWord)); }, []);
        this.addKeyBindings(editor);
        this.view = generateView(this.suggestions, this.selected.index);
        this.addClickListener(this.view, editor);
        appendWidget(editor, this.view);
    };
    Autocomplete.prototype.changeSelectedSuggestionFrom = function (event) {
        switch (event.ctrlKey + " " + event.key) {
            case 'true p':
            case 'false ArrowUp':
                var decreased = this.selected.index - 1;
                this.selected = {
                    index: decreased < 0 ? this.suggestions.length - 1 : decreased,
                    direction: 'backward'
                };
                break;
            case 'true n':
            case 'false ArrowDown':
                var increased = this.selected.index + 1;
                this.selected = {
                    index: increased >= this.suggestions.length ? 0 : increased,
                    direction: 'forward'
                };
                break;
        }
    };
    Autocomplete.prototype.addKeyBindings = function (editor) {
        editor.addKeyMap(this.keyMaps);
    };
    Autocomplete.prototype.removeKeyBindings = function (editor) {
        editor.removeKeyMap(this.keyMaps);
    };
    // TODO: Refactor
    Autocomplete.prototype.addClickListener = function (view, editor, add) {
        var _this = this;
        if (add === void 0) { add = true; }
        if (!this.onClickCallback)
            this.onClickCallback = function (event) {
                var element = event.target;
                var hintId = element.id;
                if (!hintId) {
                    var parent_1 = element.parentNode;
                    if (parent_1 && parent_1.id)
                        hintId = parent_1.id;
                }
                var hintIdPrefix = 'suggestion-';
                if (hintId && hintId.startsWith(hintIdPrefix)) {
                    hintId = hintId.replace(hintIdPrefix, '');
                    var id = parseInt(hintId);
                    if (id && id > 0 && id < _this.suggestions.length) {
                        _this.selected.index = id;
                        _this.selectSuggestion(editor);
                    }
                }
            };
        if (add)
            view.addEventListener('click', this.onClickCallback);
        else
            view.removeEventListener('click', this.onClickCallback);
    };
    Autocomplete.prototype.selectSuggestion = function (editor) {
        var cursor = editor.getCursor();
        var selectedValue = this.suggestions[this.selected.index].value;
        var _a = getRange(this.cursorAtTrigger, cursor.ch), replaceFrom = _a[0], replaceTo = _a[1];
        editor.operation(function () {
            editor.replaceRange(selectedValue, replaceFrom, replaceTo);
            var newCursorPosition = replaceFrom.ch + selectedValue.length;
            var updatedCursor = {
                line: cursor.line,
                ch: newCursorPosition
            };
            editor.setCursor(updatedCursor);
        });
        // Need to remove it here because of focus
        this.removeViewFrom(editor);
        editor.focus();
    };
    Autocomplete.prototype.loadProviders = function () {
        var providers = [];
        if (this.settings.latexProvider)
            providers.push(new LatexProvider());
        this.providers = providers;
    };
    return Autocomplete;
}());

var AutocompleteSettings = /** @class */ (function () {
    function AutocompleteSettings() {
        this.enabled = true;
        this.latexProvider = true;
    }
    return AutocompleteSettings;
}());

var AutocompleteSettingsTab = /** @class */ (function (_super) {
    __extends(AutocompleteSettingsTab, _super);
    function AutocompleteSettingsTab(app, plugin) {
        var _this = _super.call(this, app, plugin) || this;
        _this.plugin = plugin;
        return _this;
    }
    AutocompleteSettingsTab.prototype.display = function () {
        var _this = this;
        var containerEl = this.containerEl;
        containerEl.empty();
        new obsidian.Setting(containerEl)
            .setName('Enabled')
            .setDesc('Set the autocomplete state')
            .addToggle(function (cb) {
            return cb.setValue(_this.plugin.settings.enabled).onChange(function (value) {
                _this.plugin.settings.enabled = value;
                _this.plugin.saveData(_this.plugin.settings);
                _this.plugin.refresh();
            });
        });
        // Providers
        new obsidian.Setting(containerEl)
            .setName('Text Providers')
            .setDesc('The providers below suggest completions based on input. Be aware that enabling multiple providers can decrease performance.')
            .setHeading();
        new obsidian.Setting(containerEl)
            .setClass('no-border-top')
            .setName('LaTex Provider')
            .setDesc('Toggle LaTex suggestions')
            .addToggle(function (cb) {
            return cb.setValue(_this.plugin.settings.latexProvider).onChange(function (value) {
                _this.plugin.settings.latexProvider = value;
                _this.plugin.saveData(_this.plugin.settings);
                _this.plugin.refresh();
            });
        });
    };
    return AutocompleteSettingsTab;
}(obsidian.PluginSettingTab));

var AutocompletePlugin = /** @class */ (function (_super) {
    __extends(AutocompletePlugin, _super);
    function AutocompletePlugin() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.keyUpListener = function (editor, event) {
            var autocomplete = _this.autocomplete;
            if (!autocomplete.isShown())
                return;
            _this.updateEditorIfChanged(editor, autocomplete);
            _this.autocomplete.updateViewIn(editor, event);
        };
        return _this;
    }
    AutocompletePlugin.prototype.onload = function () {
        return __awaiter(this, void 0, void 0, function () {
            var _a, _b, _c, _d;
            return __generator(this, function (_e) {
                switch (_e.label) {
                    case 0:
                        console.log('Loading Autocomplete plugin.');
                        _a = this;
                        _c = (_b = Object).assign;
                        _d = [new AutocompleteSettings()];
                        return [4 /*yield*/, this.loadData()];
                    case 1:
                        _a.settings = _c.apply(_b, _d.concat([_e.sent()]));
                        this.addSettingTab(new AutocompleteSettingsTab(this.app, this));
                        if (!this.settings.enabled)
                            return [2 /*return*/];
                        this.enable();
                        this.addCommands();
                        return [2 /*return*/];
                }
            });
        });
    };
    AutocompletePlugin.prototype.onunload = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                console.log('Unloaded Obsidian Autocomplete');
                this.disable();
                return [2 /*return*/];
            });
        });
    };
    AutocompletePlugin.prototype.refresh = function () {
        return __awaiter(this, void 0, void 0, function () {
            return __generator(this, function (_a) {
                this.disable();
                this.enable();
                return [2 /*return*/];
            });
        });
    };
    AutocompletePlugin.prototype.addCommands = function () {
        var _this = this;
        this.addCommand({
            id: 'autocomplete-toggle',
            name: 'Toggle Autocomplete',
            hotkeys: [
                {
                    modifiers: ['Ctrl'],
                    key: ' '
                },
            ],
            callback: function () {
                var editor = _this.getCurrentEditor();
                if (editor) {
                    var autocomplete = _this.autocomplete;
                    _this.updateEditorIfChanged(editor, autocomplete);
                    // Do not open on vim normal mode
                    if (editor.getOption('keyMap') === 'vim')
                        return;
                    _this.autocomplete.toggleViewIn(editor);
                }
            }
        });
    };
    AutocompletePlugin.prototype.enable = function () {
        var _this = this;
        this.autocomplete = new Autocomplete(this.settings);
        this.registerCodeMirror(function (editor) {
            editor.on('keyup', _this.keyUpListener);
        });
    };
    AutocompletePlugin.prototype.disable = function () {
        var _this = this;
        var workspace = this.app.workspace;
        workspace.iterateCodeMirrors(function (cm) {
            cm.off('keyup', _this.keyUpListener);
            _this.autocomplete.removeViewFrom(cm);
        });
    };
    AutocompletePlugin.prototype.updateEditorIfChanged = function (editor, autocomplete) {
        if (!this.lastUsedEditor)
            this.lastUsedEditor = editor;
        if (editor !== this.lastUsedEditor) {
            autocomplete.removeViewFrom(this.lastUsedEditor);
            this.lastUsedEditor = editor;
        }
    };
    AutocompletePlugin.prototype.getCurrentEditor = function () {
        var view = this.app.workspace.getActiveViewOfType(obsidian.MarkdownView);
        return view ? view.sourceMode.cmEditor : null;
    };
    return AutocompletePlugin;
}(obsidian.Plugin));

module.exports = AutocompletePlugin;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXMiOlsiLi4vbm9kZV9tb2R1bGVzL3RzbGliL3RzbGliLmVzNi5qcyIsIi4uL3NyYy9hdXRvY29tcGxldGUvdmlldy50cyIsIi4uL3NyYy9wcm92aWRlcnMvcHJvdmlkZXIudHMiLCIuLi9zcmMvcHJvdmlkZXJzL2xhdGV4LnRzIiwiLi4vc3JjL2F1dG9jb21wbGV0ZS50cyIsIi4uL3NyYy9zZXR0aW5ncy9zZXR0aW5ncy50cyIsIi4uL3NyYy9zZXR0aW5ncy9zZXR0aW5ncy10YWIudHMiLCIuLi9zcmMvbWFpbi50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXHJcblxyXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcclxucHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxyXG5SRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcclxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxyXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cclxuTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1JcclxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxyXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBwKSkgZFtwXSA9IGJbcF07IH07XHJcbiAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4dGVuZHMoZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfVxyXG4gICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH1cclxuICAgIHJldHVybiBfX2Fzc2lnbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZXN0KHMsIGUpIHtcclxuICAgIHZhciB0ID0ge307XHJcbiAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMClcclxuICAgICAgICB0W3BdID0gc1twXTtcclxuICAgIGlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIilcclxuICAgICAgICBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwICYmIE9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLCBwW2ldKSlcclxuICAgICAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xyXG4gICAgICAgIH1cclxuICAgIHJldHVybiB0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcGFyYW0ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcclxuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XHJcbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19jcmVhdGVCaW5kaW5nID0gT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xyXG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcclxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvLCBrMiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uKCkgeyByZXR1cm4gbVtrXTsgfSB9KTtcclxufSkgOiAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcclxuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XHJcbiAgICBvW2syXSA9IG1ba107XHJcbn0pO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXhwb3J0U3RhcihtLCBvKSB7XHJcbiAgICBmb3IgKHZhciBwIGluIG0pIGlmIChwICE9PSBcImRlZmF1bHRcIiAmJiAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG8sIHApKSBfX2NyZWF0ZUJpbmRpbmcobywgbSwgcCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3ZhbHVlcyhvKSB7XHJcbiAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwO1xyXG4gICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7XHJcbiAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHJldHVybiB7XHJcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xyXG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/IFwiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS5cIiA6IFwiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XHJcbiAgICBpZiAoIW0pIHJldHVybiBvO1xyXG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZCgpIHtcclxuICAgIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkQXJyYXlzKCkge1xyXG4gICAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSBzICs9IGFyZ3VtZW50c1tpXS5sZW5ndGg7XHJcbiAgICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspXHJcbiAgICAgICAgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspXHJcbiAgICAgICAgICAgIHJba10gPSBhW2pdO1xyXG4gICAgcmV0dXJuIHI7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdCh2KSB7XHJcbiAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpZiAoZ1tuXSkgaVtuXSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoYSwgYikgeyBxLnB1c2goW24sIHYsIGEsIGJdKSA+IDEgfHwgcmVzdW1lKG4sIHYpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gcmVzdW1lKG4sIHYpIHsgdHJ5IHsgc3RlcChnW25dKHYpKTsgfSBjYXRjaCAoZSkgeyBzZXR0bGUocVswXVszXSwgZSk7IH0gfVxyXG4gICAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XHJcbiAgICBmdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7IHJlc3VtZShcIm5leHRcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiByZWplY3QodmFsdWUpIHsgcmVzdW1lKFwidGhyb3dcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jRGVsZWdhdG9yKG8pIHtcclxuICAgIHZhciBpLCBwO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiLCBmdW5jdGlvbiAoZSkgeyB0aHJvdyBlOyB9KSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpW25dID0gb1tuXSA/IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IG4gPT09IFwicmV0dXJuXCIgfSA6IGYgPyBmKHYpIDogdjsgfSA6IGY7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNWYWx1ZXMobykge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XHJcbiAgICByZXR1cm4gbSA/IG0uY2FsbChvKSA6IChvID0gdHlwZW9mIF9fdmFsdWVzID09PSBcImZ1bmN0aW9uXCIgPyBfX3ZhbHVlcyhvKSA6IG9bU3ltYm9sLml0ZXJhdG9yXSgpLCBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaSk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ha2VUZW1wbGF0ZU9iamVjdChjb29rZWQsIHJhdykge1xyXG4gICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29va2VkLCBcInJhd1wiLCB7IHZhbHVlOiByYXcgfSk7IH0gZWxzZSB7IGNvb2tlZC5yYXcgPSByYXc7IH1cclxuICAgIHJldHVybiBjb29rZWQ7XHJcbn07XHJcblxyXG52YXIgX19zZXRNb2R1bGVEZWZhdWx0ID0gT2JqZWN0LmNyZWF0ZSA/IChmdW5jdGlvbihvLCB2KSB7XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgXCJkZWZhdWx0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHYgfSk7XHJcbn0pIDogZnVuY3Rpb24obywgdikge1xyXG4gICAgb1tcImRlZmF1bHRcIl0gPSB2O1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0U3Rhcihtb2QpIHtcclxuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XHJcbiAgICB2YXIgcmVzdWx0ID0ge307XHJcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoayAhPT0gXCJkZWZhdWx0XCIgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG1vZCwgaykpIF9fY3JlYXRlQmluZGluZyhyZXN1bHQsIG1vZCwgayk7XHJcbiAgICBfX3NldE1vZHVsZURlZmF1bHQocmVzdWx0LCBtb2QpO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0RGVmYXVsdChtb2QpIHtcclxuICAgIHJldHVybiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSA/IG1vZCA6IHsgZGVmYXVsdDogbW9kIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHJlY2VpdmVyLCBwcml2YXRlTWFwKSB7XHJcbiAgICBpZiAoIXByaXZhdGVNYXAuaGFzKHJlY2VpdmVyKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gZ2V0IHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHByaXZhdGVNYXAuZ2V0KHJlY2VpdmVyKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRTZXQocmVjZWl2ZXIsIHByaXZhdGVNYXAsIHZhbHVlKSB7XHJcbiAgICBpZiAoIXByaXZhdGVNYXAuaGFzKHJlY2VpdmVyKSkge1xyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJhdHRlbXB0ZWQgdG8gc2V0IHByaXZhdGUgZmllbGQgb24gbm9uLWluc3RhbmNlXCIpO1xyXG4gICAgfVxyXG4gICAgcHJpdmF0ZU1hcC5zZXQocmVjZWl2ZXIsIHZhbHVlKTtcclxuICAgIHJldHVybiB2YWx1ZTtcclxufVxyXG4iLCJpbXBvcnQgeyBDb21wbGV0aW9uIH0gZnJvbSAnLi4vcHJvdmlkZXJzL3Byb3ZpZGVyJ1xuXG5leHBvcnQgaW50ZXJmYWNlIERpcmVjdGlvbiB7XG4gIGluZGV4OiBudW1iZXJcbiAgZGlyZWN0aW9uOiAnZm9yd2FyZCcgfCAnYmFja3dhcmQnIHwgJ3N0aWxsJ1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGVmYXVsdERpcmVjdGlvbigpOiBEaXJlY3Rpb24ge1xuICByZXR1cm4geyBpbmRleDogMCwgZGlyZWN0aW9uOiAnc3RpbGwnIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlVmlldyhzdWdnZXN0aW9uczogQ29tcGxldGlvbltdLCBzZWxlY3RlZEluZGV4OiBudW1iZXIpIHtcbiAgY29uc3Qgc3VnZ2VzdGlvbnNIdG1sID0gc3VnZ2VzdGlvbnMubWFwKCh0aXA6IENvbXBsZXRpb24sIGluZGV4KSA9PiB7XG4gICAgY29uc3QgaXNTZWxlY3RlZCA9IHNlbGVjdGVkSW5kZXggPT09IGluZGV4XG4gICAgcmV0dXJuIGBcbiAgICAgICAgPGRpdiBpZD1cInN1Z2dlc3Rpb24tJHtpbmRleH1cIiBjbGFzcz1cIm5vLXNwYWNlLXdyYXAgc3VnZ2VzdGlvbi1pdGVtJHtcbiAgICAgIGlzU2VsZWN0ZWQgPyAnIGlzLXNlbGVjdGVkJyA6ICcnXG4gICAgfVwiPlxuICAgICAgICAgIDxkaXYgaWQ9XCJzdWdnZXN0aW9uLSR7aW5kZXh9XCIgY2xhc3M9XCJzdWdnZXN0aW9uLWNvbnRlbnRcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInN1Z2dlc3Rpb24tZmxhaXJcIj4ke3RpcC5jYXRlZ29yeX08L3NwYW4+XG4gICAgICAgICAgJHt0aXAudmFsdWV9XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgYFxuICB9LCBbXSlcbiAgY29uc3Qgdmlld1N0cmluZyA9IGBcbiAgICAgIDxkaXYgaWQ9XCJzdWdnZXN0aW9uLWxpc3RcIiBjbGFzcz1cInN1Z2dlc3Rpb25cIj5cbiAgICAgICAgJHtzdWdnZXN0aW9uc0h0bWwuam9pbignXFxuJyl9XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJwcm9tcHQtaW5zdHJ1Y3Rpb25zXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJwcm9tcHQtaW5zdHJ1Y3Rpb25cIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInByb21wdC1pbnN0cnVjdGlvbi1jb21tYW5kXCI+Q3RybCtOPC9zcGFuPlxuICAgICAgICAgIDxzcGFuPk5leHQgU3VnZ2VzdGlvbjwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJwcm9tcHQtaW5zdHJ1Y3Rpb25cIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInByb21wdC1pbnN0cnVjdGlvbi1jb21tYW5kXCI+Q3RybCtQPC9zcGFuPlxuICAgICAgICAgIDxzcGFuPlByZXZpb3VzIFN1Z2dlc3Rpb248L3NwYW4+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwicHJvbXB0LWluc3RydWN0aW9uXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJwcm9tcHQtaW5zdHJ1Y3Rpb24tY29tbWFuZFwiPkVudGVyPC9zcGFuPlxuICAgICAgICAgIDxzcGFuPlNlbGVjdCBTdWdnZXN0aW9uPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIGBcbiAgY29uc3QgY29udGFpbmVyTm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpXG4gIGlmIChzdWdnZXN0aW9uc0h0bWwubGVuZ3RoID4gMCkge1xuICAgIGNvbnRhaW5lck5vZGUuY2xhc3NMaXN0LmFkZCgnc3VnZ2VzdGlvbi1jb250YWluZXInKVxuICAgIGNvbnRhaW5lck5vZGUuaW5zZXJ0QWRqYWNlbnRIVE1MKCdiZWZvcmVlbmQnLCB2aWV3U3RyaW5nKVxuICB9XG5cbiAgcmV0dXJuIGNvbnRhaW5lck5vZGVcbn1cblxuICBleHBvcnQgZnVuY3Rpb24gZ2V0UmFuZ2UoXG4gICAgY3Vyc29yQXRUcmlnZ2VyOiBDb2RlTWlycm9yLlBvc2l0aW9uLFxuICAgIGN1cnNvckluZGV4OiBudW1iZXJcbiAgKTogW0NvZGVNaXJyb3IuUG9zaXRpb24sIENvZGVNaXJyb3IuUG9zaXRpb25dIHtcbiAgICBjb25zdCB1cGRhdGVkQ3Vyc29yRnJvbSA9IHtcbiAgICAgIGxpbmU6IGN1cnNvckF0VHJpZ2dlci5saW5lLFxuICAgICAgY2g6IGN1cnNvckF0VHJpZ2dlci5jaCxcbiAgICB9XG4gICAgY29uc3QgdXBkYXRlZEN1cnNvclRvID0ge1xuICAgICAgbGluZTogY3Vyc29yQXRUcmlnZ2VyLmxpbmUsXG4gICAgICBjaDogY3Vyc29ySW5kZXgsXG4gICAgfVxuXG4gICAgcmV0dXJuIFt1cGRhdGVkQ3Vyc29yRnJvbSwgdXBkYXRlZEN1cnNvclRvXVxuICB9XG5cbiAgZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZUNhY2hlZFZpZXcodmlldzogSFRNTEVsZW1lbnQsIHNlbGVjdGVkSW5kZXg6IG51bWJlcikge1xuICAgIGNvbnN0IGNoaWxkcmVuID0gdmlldy5maXJzdEVsZW1lbnRDaGlsZD8uY2hpbGRyZW5cblxuICAgIGlmICghY2hpbGRyZW4pIHJldHVyblxuXG4gICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGNoaWxkcmVuLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlbltpbmRleF1cbiAgICAgIGNoaWxkLnRvZ2dsZUNsYXNzKCdpcy1zZWxlY3RlZCcsIGluZGV4ID09PSBzZWxlY3RlZEluZGV4KVxuICAgIH1cbiAgfVxuXG4gIGV4cG9ydCBmdW5jdGlvbiBzY3JvbGxUbyhcbiAgICBzZWxlY3RlZDogRGlyZWN0aW9uLFxuICAgIHZpZXc6IEhUTUxFbGVtZW50LFxuICAgIHN1Z2dlc3Rpb25zTGVuZ3RoOiBudW1iZXJcbiAgKSB7XG4gICAgaWYgKCF2aWV3IHx8IHN1Z2dlc3Rpb25zTGVuZ3RoID09PSAwKSByZXR1cm5cblxuICAgIC8vIFRPRE86IEltcHJvdmUgc2Nyb2xsaW5nIHdpdGggcGFnZSBzaXplIGFuZCBib3VuZGFyaWVzXG5cbiAgICBjb25zdCBwYXJlbnQgPSB2aWV3LmNoaWxkcmVuWzBdXG4gICAgY29uc3Qgc2VsZWN0ZWRJbmRleCA9IHNlbGVjdGVkLmluZGV4XG4gICAgY29uc3QgY2hpbGQgPSBwYXJlbnQuY2hpbGRyZW5bMF1cbiAgICBpZiAoY2hpbGQpIHtcbiAgICAgIGxldCBzY3JvbGxBbW91bnQgPSBjaGlsZC5zY3JvbGxIZWlnaHQgKiBzZWxlY3RlZEluZGV4XG5cbiAgICAgIHN3aXRjaCAoc2VsZWN0ZWQuZGlyZWN0aW9uKSB7XG4gICAgICAgIGNhc2UgJ2ZvcndhcmQnOlxuICAgICAgICAgIGlmIChzZWxlY3RlZEluZGV4ID09PSAwKVxuICAgICAgICAgICAgLy8gRW5kIC0+IFN0YXJ0XG4gICAgICAgICAgICBwYXJlbnQuc2Nyb2xsVG9wID0gMFxuICAgICAgICAgIGVsc2UgcGFyZW50LnNjcm9sbFRvcCA9IHNjcm9sbEFtb3VudFxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ2JhY2t3YXJkJzpcbiAgICAgICAgICBpZiAoc2VsZWN0ZWRJbmRleCA9PT0gc3VnZ2VzdGlvbnNMZW5ndGggLSAxKVxuICAgICAgICAgICAgLy8gRW5kIDwtIFN0YXJ0XG4gICAgICAgICAgICBwYXJlbnQuc2Nyb2xsVG9wID0gcGFyZW50LnNjcm9sbEhlaWdodFxuICAgICAgICAgIGVsc2UgcGFyZW50LnNjcm9sbFRvcCA9IHNjcm9sbEFtb3VudFxuICAgICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZXhwb3J0IGZ1bmN0aW9uIGNvbXBsZXRpb25Xb3JkSW4oXG4gICAgZWRpdG9yOiBDb2RlTWlycm9yLkVkaXRvcixcbiAgICBjdXJzb3JBdFRyaWdnZXI/OiBDb2RlTWlycm9yLlBvc2l0aW9uXG4gICkge1xuICAgIGNvbnN0IGN1cnNvciA9IGVkaXRvci5nZXRDdXJzb3IoKVxuICAgIGNvbnN0IGN1cnJlbnRMaW5lOiBzdHJpbmcgPSBlZGl0b3IuZ2V0TGluZShjdXJzb3IubGluZSlcbiAgICBjb25zdCB3b3JkID0gY3VycmVudExpbmUuc3Vic3RyaW5nKGN1cnNvckF0VHJpZ2dlcj8uY2ggfHwgMCwgY3Vyc29yLmNoKVxuXG4gICAgcmV0dXJuIHdvcmRcbiAgfVxuXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kV2lkZ2V0KFxuICBlZGl0b3I6IENvZGVNaXJyb3IuRWRpdG9yLFxuICB2aWV3OiBIVE1MRWxlbWVudCxcbiAgc2Nyb2xsYWJsZSA9IHRydWVcbikge1xuICBjb25zdCBjdXJzb3IgPSBlZGl0b3IuZ2V0Q3Vyc29yKClcblxuICBlZGl0b3IuYWRkV2lkZ2V0KHsgY2g6IGN1cnNvci5jaCwgbGluZTogY3Vyc29yLmxpbmUgfSwgdmlldywgc2Nyb2xsYWJsZSlcbn1cbiIsImV4cG9ydCBhYnN0cmFjdCBjbGFzcyBQcm92aWRlciB7XG4gIGFic3RyYWN0IHJlYWRvbmx5IGNhdGVnb3J5OiBzdHJpbmdcbiAgYWJzdHJhY3QgcmVhZG9ubHkgY29tcGxldGlvbnM6IEFycmF5PHN0cmluZz5cblxuICBtYXRjaFdpdGgoaW5wdXQ6IHN0cmluZyk6IENvbXBsZXRpb25bXSB7XG4gICAgLy8gVE9ETzogSW1wcm92ZSBmaWx0ZXJpbmcgd2l0aCB3ZWlnaHRzXG4gICAgY29uc3Qgc3VnZ2VzdGlvbnMgPSB0aGlzLmNvbXBsZXRpb25zLmZpbHRlcih2YWwgPT4gdmFsLmluY2x1ZGVzKGlucHV0KSlcbiAgICAgIC5tYXAoc3VnZyA9PiB7XG4gICAgICAgIHJldHVybiB7Y2F0ZWdvcnk6IHRoaXMuY2F0ZWdvcnksIHZhbHVlOiBzdWdnfVxuICAgICAgfSlcbiAgICAgIC5zb3J0KChhLCBiKSA9PiBhLnZhbHVlLmxlbmd0aCAtIGIudmFsdWUubGVuZ3RoKVxuXG4gICAgcmV0dXJuIHN1Z2dlc3Rpb25zXG4gIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBDb21wbGV0aW9uIHtcbiAgY2F0ZWdvcnk6IHN0cmluZyxcbiAgdmFsdWU6IHN0cmluZ1xufVxuIiwiaW1wb3J0IHtQcm92aWRlcn0gZnJvbSAnLi9wcm92aWRlcidcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExhdGV4UHJvdmlkZXIgZXh0ZW5kcyBQcm92aWRlciB7XG4gICAgY2F0ZWdvcnkgPSBcIkxcIlxuICAgIGNvbXBsZXRpb25zID0gW1wiXFxcXEFycm93dmVydFwiLCBcIlxcXFxCYmJrXCIsIFwiXFxcXEJpZ1wiLCBcIlxcXFxCaWdnXCIsIFwiXFxcXEJpZ2dsXCIsIFwiXFxcXEJpZ2dyXCIsIFwiXFxcXEJpZ2xcIiwgXCJcXFxcQmlnbVwiLCBcIlxcXFxCaWdyXCIsIFwiXFxcXEJveFwiLCBcIlxcXFxCdW1wZXFcIiwgXCJcXFxcQ2FwXCIsIFwiXFxcXGNpdGVbI3t9XXsje319XCIsIFwiXFxcXGNpdGVcIiwgXCJcXFxcQ3VwXCIsIFwiXFxcXERlY2xhcmVNYXRoT3BlcmF0b3J7I3t9fXsje319XCIsIFwiXFxcXERlbHRhXCIsIFwiXFxcXERvd25hcnJvd1wiLCBcIlxcXFxGaW52XCIsIFwiXFxcXEdhbWVcIiwgXCJcXFxcR2FtbWFcIiwgXCJcXFxcSW1cIiwgXCJcXFxcTGFtYmRhXCIsIFwiXFxcXExlZnRhcnJvd1wiLCBcIlxcXFxMZWZ0cmlnaHRhcnJvd1wiLCBcIlxcXFxMbGVmdGFycm93XCIsIFwiXFxcXExvbmdsZWZ0YXJyb3dcIiwgXCJcXFxcTG9uZ2xlZnRyaWdodGFycm93XCIsIFwiXFxcXExvbmdyaWdodGFycm93XCIsIFwiXFxcXExzaFwiLCBcIlxcXFxPbWVnYVwiLCBcIlxcXFxQaGlcIiwgXCJcXFxcUGlcIiwgXCJcXFxcUHJcIiwgXCJcXFxcUHNpXCIsIFwiXFxcXFJlXCIsIFwiXFxcXFJpZ2h0YXJyb3dcIiwgXCJcXFxcUnJpZ2h0YXJyb3dcIiwgXCJcXFxcUnNoXCIsIFwiXFxcXFNcIiwgXCJcXFxcU2lnbWFcIiwgXCJcXFxcU3Vic2V0XCIsIFwiXFxcXFN1cHNldFwiLCBcIlxcXFxUZVhcIiwgXCJcXFxcVGhldGFcIiwgXCJcXFxcVXBhcnJvd1wiLCBcIlxcXFxVcGRvd25hcnJvd1wiLCBcIlxcXFxVcHNpbG9uXCIsIFwiXFxcXFZkYXNoXCIsIFwiXFxcXFZlcnRcIiwgXCJcXFxcVnZkYXNoXCIsIFwiXFxcXFhpXCIsIFwiXFxcXGFib3ZlXCIsIFwiXFxcXGFib3Zld2l0aGRlbGltc1wiLCBcIlxcXFxhY3V0ZXsje319XCIsIFwiXFxcXGFsZXBoXCIsIFwiXFxcXGFscGhhXCIsIFwiXFxcXGFtYWxnXCIsIFwiXFxcXGFuZ2xlXCIsIFwiXFxcXGFwcHJveFwiLCBcIlxcXFxhcHByb3hlcVwiLCBcIlxcXFxhcmNjb3NcIiwgXCJcXFxcYXJjc2luXCIsIFwiXFxcXGFyY3RhblwiLCBcIlxcXFxhcmdcIiwgXCJcXFxcYXJyb3d2ZXJ0XCIsIFwiXFxcXGFzdFwiLCBcIlxcXFxhc3ltcFwiLCBcIlxcXFxhdG9wXCIsXG4gICAgICAgIFwiXFxcXGF0b3B3aXRoZGVsaW1zXCIsIFwiXFxcXGJhY2tlcHNpbG9uXCIsIFwiXFxcXGJhY2twcmltZVwiLCBcIlxcXFxiYWNrc2ltXCIsIFwiXFxcXGJhY2tzaW1lcVwiLCBcIlxcXFxiYWNrc2xhc2hcIiwgXCJcXFxcYmFyeyN7fX1cIiwgXCJcXFxcYmFyd2VkZ2VcIiwgXCJcXFxcYmVjYXVzZVwiLCBcIlxcXFxiZXRhXCIsIFwiXFxcXGJldGhcIiwgXCJcXFxcYmV0d2VlblwiLCBcIlxcXFxiZlwiLCBcIlxcXFxiaWdcIiwgXCJcXFxcYmlnY2FwXCIsIFwiXFxcXGJpZ2NpcmNcIiwgXCJcXFxcYmlnY3VwXCIsIFwiXFxcXGJpZ2dcIiwgXCJcXFxcYmlnZ2xcIiwgXCJcXFxcYmlnZ21cIiwgXCJcXFxcYmlnZ3JcIiwgXCJcXFxcYmlnbFwiLCBcIlxcXFxiaWdtXCIsIFwiXFxcXGJpZ29kb3RcIiwgXCJcXFxcYmlnb3BsdXNcIiwgXCJcXFxcYmlnb3RpbWVzXCIsIFwiXFxcXGJpZ3JcXFxcfVwiLCBcIlxcXFxiaWdzcWN1cFwiLCBcIlxcXFxiaWdzdGFyXCIsIFwiXFxcXGJpZ3RyaWFuZ2xlZG93blwiLCBcIlxcXFxiaWd0cmlhbmdsZXVwXCIsIFwiXFxcXGJpZ3VwbHVzXCIsIFwiXFxcXGJpZ3ZlZVwiLCBcIlxcXFxiaWd3ZWRnZVwiLCBcIlxcXFxiaW5vbXsje319eyN7fX1cIiwgXCJcXFxcYmxhY2tsb3plbmdlXCIsIFwiXFxcXGJsYWNrc3F1YXJlXCIsIFwiXFxcXGJsYWNrdHJpYW5nbGVcIiwgXCJcXFxcYmxhY2t0cmlhbmdsZWRvd25cIiwgXCJcXFxcYmxhY2t0cmlhbmdsZWxlZnRcIiwgXCJcXFxcYmxhY2t0cmlhbmdsZXJpZ2h0XCIsIFwiXFxcXGJtb2RcIiwgXCJcXFxcYm9sZHN5bWJvbHsje319XCIsIFwiXFxcXGJvdFwiLCBcIlxcXFxib3d0aWVcIiwgXCJcXFxcYm94ZG90XCIsIFwiXFxcXGJveGVkeyN7fX1cIiwgXCJcXFxcYm94bWludXNcIiwgXCJcXFxcYm94cGx1c1wiLCBcIlxcXFxib3h0aW1lc1wiLCBcIlxcXFxicmFjZVwiLCBcIlxcXFxicmFjZXZlcnRcIiwgXCJcXFxcYnJhY2tcIiwgXCJcXFxcYnJldmV7I3t9fVwiLCBcIlxcXFxidWlsZHJlbFwiLCBcIlxcXFxidWxsZXRcIiwgXCJcXFxcYnVtcGVxXCIsIFwiXFxcXGNhbFwiLCBcIlxcXFxjYXBcIiwgXCJcXFxcY2FzZXN7I3t9fVwiLCBcIlxcXFxjZG90XCIsIFwiXFxcXGNkb3RwXCIsIFwiXFxcXGNkb3RzXCIsXG4gICAgICAgIFwiXFxcXGNlbnRlcmRvdFwiLCBcIlxcXFxjZnJhY3sje319eyN7fX1cIiwgXCJcXFxcY2hlY2t7I3t9fVwiLCBcIlxcXFxjaGVja21hcmtcIiwgXCJcXFxcY2hpXCIsIFwiXFxcXGNob29zZVwiLCBcIlxcXFxjaXJjXCIsIFwiXFxcXGNpcmNlcVwiLCBcIlxcXFxjaXJjbGVhcnJvd2xlZnRcIiwgXCJcXFxcY2lyY2xlYXJyb3dyaWdodFwiLCBcIlxcXFxjaXJjbGVkU1wiLCBcIlxcXFxjaXJjbGVkYXN0XCIsIFwiXFxcXGNpcmNsZWRjaXJjXCIsIFwiXFxcXGNpcmNsZWRkYXNoXCIsIFwiXFxcXGNsdWJzdWl0XCIsIFwiXFxcXGNvbG9uXCIsIFwiXFxcXGNvbXBsZW1lbnRcIiwgXCJcXFxcY29uZ1wiLCBcIlxcXFxjb3Byb2RcIiwgXCJcXFxcY29zXCIsIFwiXFxcXGNvc2hcIiwgXCJcXFxcY290XCIsIFwiXFxcXGNvdGhcIiwgXCJcXFxcY3JcIiwgXCJcXFxcY3NjXCIsIFwiXFxcXGN1cFwiLCBcIlxcXFxjdXJseWVxcHJlY1wiLCBcIlxcXFxjdXJseWVxc3VjY1wiLCBcIlxcXFxjdXJseXZlZVwiLCBcIlxcXFxjdXJseXdlZGdlXCIsIFwiXFxcXGN1cnZlYXJyb3dsZWZ0XCIsIFwiXFxcXGN1cnZlYXJyb3dyaWdodFwiLCBcIlxcXFxkYWdnZXJcIiwgXCJcXFxcZGFsZXRoXCIsIFwiXFxcXGRhc2hsZWZ0YXJyb3dcIiwgXCJcXFxcZGFzaHJpZ2h0YXJyb3dcIiwgXCJcXFxcZGFzaHZcIiwgXCJcXFxcZGJpbm9teyN7fX17I3t9fVwiLCBcIlxcXFxkZGFnZ2VyXCIsIFwiXFxcXGRkZGRvdHsje319XCIsIFwiXFxcXGRkZG90eyN7fX1cIiwgXCJcXFxcZGRvdHsje319XCIsIFwiXFxcXGRkb3RzXCIsIFwiXFxcXGRlZlwiLCBcIlxcXFxkZWdcIiwgXCJcXFxcZGVsdGFcIiwgXCJcXFxcZGV0XCIsIFwiXFxcXGRmcmFjeyN7fX17I3t9fVwiLCBcIlxcXFxkaWFnZG93blwiLCBcIlxcXFxkaWFndXBcIiwgXCJcXFxcZGlhbW9uZFwiLCBcIlxcXFxkaWFtb25kc3VpdFwiLCBcIlxcXFxkaWdhbW1hXCIsIFwiXFxcXGRpbVwiLCBcIlxcXFxkaXNwbGF5bGluZXNcIiwgXCJcXFxcZGlzcGxheXN0eWxlXCIsIFwiXFxcXGRpdlwiLCBcIlxcXFxkaXZpZGVvbnRpbWVzXCIsIFwiXFxcXGRvdHsje319XCIsIFwiXFxcXGRvdGVxXCIsIFwiXFxcXGRvdGVxZG90XCIsIFwiXFxcXGRvdHBsdXNcIixcbiAgICAgICAgXCJcXFxcZG90c1wiLCBcIlxcXFxkb3RzYlwiLCBcIlxcXFxkb3RzY1wiLCBcIlxcXFxkb3RzaVwiLCBcIlxcXFxkb3RzbVwiLCBcIlxcXFxkb3Rzb1wiLCBcIlxcXFxkb3VibGViYXJ3ZWRnZVwiLCBcIlxcXFxkb3duYXJyb3dcIiwgXCJcXFxcZG93bmRvd25hcnJvd3NcIiwgXCJcXFxcZG93bmhhcnBvb25sZWZ0XCIsIFwiXFxcXGRvd25oYXJwb29ucmlnaHRcIiwgXCJcXFxcZWxsXCIsIFwiXFxcXGVtcHR5c2V0XCIsIFwiXFxcXGVuc3BhY2VcIiwgXCJcXFxcZXBzaWxvblwiLCBcIlxcXFxlcWFsaWdueyN7fX1cIiwgXCJcXFxcZXFhbGlnbm5veyN7fX1cIiwgXCJcXFxcZXFjaXJjXCIsIFwiXFxcXGVxcmVmeyN7fX1cIiwgXCJcXFxcZXFzaW1cIiwgXCJcXFxcZXFzbGFudGd0clwiLCBcIlxcXFxlcXNsYW50bGVzc1wiLCBcIlxcXFxlcXVpdlwiLCBcIlxcXFxldGFcIiwgXCJcXFxcZXRoXCIsIFwiXFxcXGV4aXN0c1wiLCBcIlxcXFxleHBcIiwgXCJcXFxcZmFsbGluZ2RvdHNlcVwiLCBcIlxcXFxmbGF0XCIsIFwiXFxcXGZvcmFsbFwiLCBcIlxcXFxmcm93blwiLCBcIlxcXFxnYW1tYVwiLCBcIlxcXFxnY2RcIiwgXCJcXFxcZ2VcIiwgXCJcXFxcZ2VxXCIsIFwiXFxcXGdlcXFcIiwgXCJcXFxcZ2Vxc2xhbnRcIiwgXCJcXFxcZ2V0c1wiLCBcIlxcXFxnZ1wiLCBcIlxcXFxnZ2dcIiwgXCJcXFxcZ2ltZWxcIiwgXCJcXFxcZ25hcHByb3hcIiwgXCJcXFxcZ25lcVwiLCBcIlxcXFxnbmVxcVwiLCBcIlxcXFxnbnNpbVwiLCBcIlxcXFxncmF2ZXsje319XCIsIFwiXFxcXGd0cmFwcHJveFwiLCBcIlxcXFxndHJkb3RcIiwgXCJcXFxcZ3RyZXFsZXNzXCIsIFwiXFxcXGd0cmVxcWxlc3NcIiwgXCJcXFxcZ3RybGVzc1wiLCBcIlxcXFxndHJzaW1cIiwgXCJcXFxcZ3ZlcnRuZXFxXCIsIFwiXFxcXGhhdHsje319XCIsIFwiXFxcXGhiYXJcIiwgXCJcXFxcaGJveFwiLCBcIlxcXFxoZWFydHN1aXRcIiwgXCJcXFxcaGZpbFwiLCBcIlxcXFxoZmlsbFwiLCBcIlxcXFxob21cIiwgXCJcXFxcaG9va2xlZnRhcnJvd1wiLCBcIlxcXFxob29rcmlnaHRhcnJvd1wiLCBcIlxcXFxocGhhbnRvbXsje319XCIsIFwiXFxcXGhza2lwXCIsIFwiXFxcXGhzbGFzaFwiLCBcIlxcXFxpZG90c2ludFwiLCBcIlxcXFxpZmZcIixcbiAgICAgICAgXCJcXFxcaWlpaW50XCIsIFwiXFxcXGlpaW50XCIsIFwiXFxcXGlpbnRcIiwgXCJcXFxcaW1hdGhcIiwgXCJcXFxcaW1wbGllZGJ5XCIsIFwiXFxcXGltcGxpZXNcIiwgXCJcXFxcaW5cIiwgXCJcXFxcaW5mXCIsIFwiXFxcXGluZnR5XCIsIFwiXFxcXGluamxpbVwiLCBcIlxcXFxpbnRcXFxcbGltaXRzX3sje319Xnsje319XCIsIFwiXFxcXGludGVyY2FsXCIsIFwiXFxcXGlvdGFcIiwgXCJcXFxcaXRcIiwgXCJcXFxcam1hdGhcIiwgXCJcXFxca2FwcGFcIiwgXCJcXFxca2VyXCIsIFwiXFxcXGtlcm5cIiwgXCJcXFxcbFZlcnRcIiwgXCJcXFxcbGFtYmRhXCIsIFwiXFxcXGxhbmRcIiwgXCJcXFxcbGFuZ2xlXCIsIFwiXFxcXGxicmFjZVwiLCBcIlxcXFxsYnJhY2tcIiwgXCJcXFxcbGNlaWxcIiwgXCJcXFxcbGRvdHBcIiwgXCJcXFxcbGRvdHNcIiwgXCJcXFxcbGVcIiwgXCJcXFxcbGVmdFwiLCBcIlxcXFxsZWZ0YXJyb3dcIiwgXCJcXFxcbGVmdGFycm93dGFpbFwiLCBcIlxcXFxsZWZ0aGFycG9vbmRvd25cIiwgXCJcXFxcbGVmdGhhcnBvb251cFwiLCBcIlxcXFxsZWZ0bGVmdGFycm93c1wiLCBcIlxcXFxsZWZ0cmlnaHRhcnJvd1wiLCBcIlxcXFxsZWZ0cmlnaHRhcnJvd3NcIiwgXCJcXFxcbGVmdHJpZ2h0aGFycG9vbnNcIiwgXCJcXFxcbGVmdHJpZ2h0c3F1aWdhcnJvd1wiLCBcIlxcXFxsZWZ0cm9vdHsje319XCIsIFwiXFxcXGxlZnR0aHJlZXRpbWVzXCIsIFwiXFxcXGxlcVwiLCBcIlxcXFxsZXFhbGlnbm5veyN7fX1cIiwgXCJcXFxcbGVxcVwiLCBcIlxcXFxsZXFzbGFudFwiLCBcIlxcXFxsZXNzYXBwcm94XCIsIFwiXFxcXGxlc3Nkb3RcIiwgXCJcXFxcbGVzc2VxZ3RyXCIsIFwiXFxcXGxlc3NlcXFndHJcIiwgXCJcXFxcbGVzc2d0clwiLCBcIlxcXFxsZXNzc2ltXCIsIFwiXFxcXGxldHsje319eyN7fX1cIiwgXCJcXFxcbGZsb29yXCIsIFwiXFxcXGxnXCIsIFwiXFxcXGxncm91cFwiLCBcIlxcXFxsaGRcIiwgXCJcXFxcbGltXCIsIFwiXFxcXGxpbWluZlwiLCBcIlxcXFxsaW1pdHNfeyN7fX1eeyN7fX1cIiwgXCJcXFxcbGltc3VwXCIsIFwiXFxcXGxsXCIsIFwiXFxcXGxsYXB7I3t9fVwiLCBcIlxcXFxsbGNvcm5lclwiLCBcIlxcXFxsbGxcIiwgXCJcXFxcbG1vdXN0YWNoZVwiLFxuICAgICAgICBcIlxcXFxsblwiLCBcIlxcXFxsbmFwcHJveFwiLCBcIlxcXFxsbmVxXCIsIFwiXFxcXGxuZXFxXCIsIFwiXFxcXGxub3RcIiwgXCJcXFxcbG5zaW1cIiwgXCJcXFxcbG9nXCIsIFwiXFxcXGxvbmdsZWZ0YXJyb3dcIiwgXCJcXFxcbG9uZ2xlZnRyaWdodGFycm93XCIsIFwiXFxcXGxvbmdtYXBzdG9cIiwgXCJcXFxcbG9uZ3JpZ2h0YXJyb3dcIiwgXCJcXFxcbG9vcGFycm93bGVmdFwiLCBcIlxcXFxsb29wYXJyb3dyaWdodFwiLCBcIlxcXFxsb3JcIiwgXCJcXFxcbG93ZXJcIiwgXCJcXFxcbG96ZW5nZVwiLCBcIlxcXFxscmNvcm5lclwiLCBcIlxcXFxsdGltZXNcIiwgXCJcXFxcbHZlcnRcIiwgXCJcXFxcbHZlcnRuZXFxXCIsIFwiXFxcXG1hbHRlc2VcIiwgXCJcXFxcbWFwc3RvXCIsIFwiXFxcXG1hdGhiYnsje319XCIsIFwiXFxcXG1hdGhiZnsje319XCIsIFwiXFxcXG1hdGhiaW5cIiwgXCJcXFxcbWF0aGNhbHsje319XCIsIFwiXFxcXG1hdGhjaG9pY2VcIiwgXCJcXFxcbWF0aGNsb3NlXCIsIFwiXFxcXG1hdGhmcmFreyN7fX1cIiwgXCJcXFxcbWF0aGlubmVyXCIsIFwiXFxcXG1hdGhvcFwiLCBcIlxcXFxtYXRob3BlblwiLCBcIlxcXFxtYXRob3JkXCIsIFwiXFxcXG1hdGhwdW5jdFwiLCBcIlxcXFxtYXRocmVsXCIsIFwiXFxcXG1hdGhzdHJ1dFwiLCBcIlxcXFxtYXRyaXh7I3t9fVwiLCBcIlxcXFxtYXhcIiwgXCJcXFxcbWVhc3VyZWRhbmdsZVwiLCBcIlxcXFxtaG9cIiwgXCJcXFxcbWlkXCIsIFwiXFxcXG1pZGRsZVwiLCBcIlxcXFxtaW5cIiwgXCJcXFxcbWl0XCIsIFwiXFxcXG1rZXJuXCIsIFwiXFxcXG1vZFwiLCBcIlxcXFxtb2RlbHNcIiwgXCJcXFxcbW92ZWxlZnRcIiwgXCJcXFxcbW92ZXJpZ2h0XCIsIFwiXFxcXG1wXCIsIFwiXFxcXG1za2lwXCIsIFwiXFxcXG1zcGFjZXsje319XCIsIFwiXFxcXG11XCIsIFwiXFxcXG11bHRpbWFwXCIsIFwiXFxcXG5MZWZ0YXJyb3dcIiwgXCJcXFxcbkxlZnRyaWdodGFycm93XCIsIFwiXFxcXG5SaWdodGFycm93XCIsIFwiXFxcXG5WRGFzaFwiLCBcIlxcXFxuVmRhc2hcIiwgXCJcXFxcbmFibGFcIiwgXCJcXFxcbmF0dXJhbFwiLCBcIlxcXFxuY29uZ1wiLCBcIlxcXFxuZVwiLCBcIlxcXFxuZWFycm93XCIsIFwiXFxcXG5lZ1wiLCBcIlxcXFxuZWdtZWRzcGFjZVwiLFxuICAgICAgICBcIlxcXFxuZWd0aGlja3NwYWNlXCIsIFwiXFxcXG5lZ3RoaW5zcGFjZVwiLCBcIlxcXFxuZXFcIiwgXCJcXFxcbmV4aXN0c1wiLCBcIlxcXFxuZ2VxXCIsIFwiXFxcXG5nZXFxXCIsIFwiXFxcXG5nZXFzbGFudFwiLCBcIlxcXFxuZ3RyXCIsIFwiXFxcXG5pXCIsIFwiXFxcXG5sZWZ0YXJyb3dcIiwgXCJcXFxcbmxlZnRyaWdodGFycm93XCIsIFwiXFxcXG5sZXFcIiwgXCJcXFxcbmxlcXFcIiwgXCJcXFxcbmxlcXNsYW50XCIsIFwiXFxcXG5sZXNzXCIsIFwiXFxcXG5taWRcIiwgXCJcXFxcbm9saW1pdHNfeyN7fX1eeyN7fX1cIiwgXCJcXFxcbm90XCIsIFwiXFxcXG5vdGFnXCIsIFwiXFxcXG5vdGluXCIsIFwiXFxcXG5wYXJhbGxlbFwiLCBcIlxcXFxucHJlY1wiLCBcIlxcXFxucHJlY2VxXCIsIFwiXFxcXG5yaWdodGFycm93XCIsIFwiXFxcXG5zaG9ydG1pZFwiLCBcIlxcXFxuc2hvcnRwYXJhbGxlbFwiLCBcIlxcXFxuc2ltXCIsIFwiXFxcXG5zdWJzZXRlcVwiLCBcIlxcXFxuc3Vic2V0ZXFxXCIsIFwiXFxcXG5zdWNjXCIsIFwiXFxcXG5zdWNjZXFcIiwgXCJcXFxcbnN1cHNldGVxXCIsIFwiXFxcXG5zdXBzZXRlcXFcIiwgXCJcXFxcbnRyaWFuZ2xlbGVmdFwiLCBcIlxcXFxudHJpYW5nbGVsZWZ0ZXFcIiwgXCJcXFxcbnRyaWFuZ2xlcmlnaHRcIiwgXCJcXFxcbnRyaWFuZ2xlcmlnaHRlcVwiLCBcIlxcXFxudVwiLCBcIlxcXFxudkRhc2hcIiwgXCJcXFxcbnZkYXNoXCIsIFwiXFxcXG53YXJyb3dcIiwgXCJcXFxcb2RvdFwiLCBcIlxcXFxvaW50XCIsIFwiXFxcXG9sZHN0eWxlXCIsIFwiXFxcXG9tZWdhXCIsIFwiXFxcXG9taW51c1wiLCBcIlxcXFxvcGVyYXRvcm5hbWV7I3t9fVwiLCBcIlxcXFxvcGx1c1wiLCBcIlxcXFxvc2xhc2hcIiwgXCJcXFxcb3RpbWVzXCIsIFwiXFxcXG92ZXJcIiwgXCJcXFxcb3ZlcmJyYWNleyN7fX1cIiwgXCJcXFxcb3ZlcmxlZnRhcnJvd3sje319XCIsIFwiXFxcXG92ZXJsZWZ0cmlnaHRhcnJvd3sje319XCIsIFwiXFxcXG92ZXJsaW5leyN7fX1cIiwgXCJcXFxcb3ZlcnJpZ2h0YXJyb3d7I3t9fVwiLCBcIlxcXFxvdmVyc2V0eyN7fX17I3t9fVwiLCBcIlxcXFxvdmVyd2l0aGRlbGltc1wiLCBcIlxcXFxvd25zXCIsXG4gICAgICAgIFwiXFxcXHBhcmFsbGVsXCIsIFwiXFxcXHBhcnRpYWxcIiwgXCJcXFxccGVycFwiLCBcIlxcXFxwaGFudG9teyN7fX1cIiwgXCJcXFxccGhpXCIsIFwiXFxcXHBpXCIsIFwiXFxcXHBpdGNoZm9ya1wiLCBcIlxcXFxwbVwiLCBcIlxcXFxwbWF0cml4eyN7fX1cIiwgXCJcXFxccG1ieyN7fX1cIiwgXCJcXFxccG1vZFwiLCBcIlxcXFxwb2RcIiwgXCJcXFxccHJlY1wiLCBcIlxcXFxwcmVjYXBwcm94XCIsIFwiXFxcXHByZWNjdXJseWVxXCIsIFwiXFxcXHByZWNlcVwiLCBcIlxcXFxwcmVjbmFwcHJveFwiLCBcIlxcXFxwcmVjbmVxcVwiLCBcIlxcXFxwcmVjbnNpbVwiLCBcIlxcXFxwcmVjc2ltXCIsIFwiXFxcXHByaW1lXCIsIFwiXFxcXHByb2RcXFxcbGltaXRzX3sje319Xnsje319XCIsIFwiXFxcXHByb2psaW1cIiwgXCJcXFxccHJvcHRvXCIsIFwiXFxcXHBzaVwiLCBcIlxcXFxxcXVhZFwiLCBcIlxcXFxxdWFkXCIsIFwiXFxcXHJWZXJ0XCIsIFwiXFxcXHJhaXNlXCIsIFwiXFxcXHJhbmdsZVwiLCBcIlxcXFxyYnJhY2VcIiwgXCJcXFxccmJyYWNrXCIsIFwiXFxcXHJjZWlsXCIsIFwiXFxcXHJmbG9vclwiLCBcIlxcXFxyZ3JvdXBcIiwgXCJcXFxccmhkXCIsIFwiXFxcXHJob1wiLCBcIlxcXFxyaWdodFwiLCBcIlxcXFxyaWdodGFycm93XCIsIFwiXFxcXHJpZ2h0YXJyb3d0YWlsXCIsIFwiXFxcXHJpZ2h0aGFycG9vbmRvd25cIiwgXCJcXFxccmlnaHRoYXJwb29udXBcIiwgXCJcXFxccmlnaHRsZWZ0YXJyb3dzXCIsIFwiXFxcXHJpZ2h0bGVmdGhhcnBvb25zXCIsIFwiXFxcXHJpZ2h0cmlnaHRhcnJvd3NcIiwgXCJcXFxccmlnaHRzcXVpZ2Fycm93XCIsIFwiXFxcXHJpZ2h0dGhyZWV0aW1lc1wiLCBcIlxcXFxyaXNpbmdkb3RzZXFcIiwgXCJcXFxccmxhcHsje319XCIsIFwiXFxcXHJtXCIsIFwiXFxcXHJtb3VzdGFjaGVcIiwgXCJcXFxccm9vdCAje30gXFxcXG9mICN7fVwiLCBcIlxcXFxydGltZXNcIiwgXCJcXFxccnZlcnRcIiwgXCJcXFxcc2NyaXB0c2NyaXB0c3R5bGVcIiwgXCJcXFxcc2NyaXB0c3R5bGVcIiwgXCJcXFxcc2VhcnJvd1wiLCBcIlxcXFxzZWNcIiwgXCJcXFxcc2V0bWludXNcIiwgXCJcXFxcc2hhcnBcIiwgXCJcXFxcc2hvcnRtaWRcIixcbiAgICAgICAgXCJcXFxcc2hvcnRwYXJhbGxlbFwiLCBcIlxcXFxzaWRlc2V0eyN7fX17I3t9fXsje319XCIsIFwiXFxcXHNpZ21hXCIsIFwiXFxcXHNpbVwiLCBcIlxcXFxzaW1lcVwiLCBcIlxcXFxzaW5cIiwgXCJcXFxcc2luaFwiLCBcIlxcXFxza2V3eyN7fX17I3t9fXsje319XCIsIFwiXFxcXHNtYWxsZnJvd25cIiwgXCJcXFxcc21hbGxpbnRcIiwgXCJcXFxcc21hbGxzZXRtaW51c1wiLCBcIlxcXFxzbWFsbHNtaWxlXCIsIFwiXFxcXHNtYXNoeyN7fX1cIiwgXCJcXFxcc21pbGVcIiwgXCJcXFxcc3BhY2VcIiwgXCJcXFxcc3BhZGVzdWl0XCIsIFwiXFxcXHNwaGVyaWNhbGFuZ2xlXCIsIFwiXFxcXHNxY2FwXCIsIFwiXFxcXHNxY3VwXCIsIFwiXFxcXHNxcnR7I3t9fVwiLCBcIlxcXFxzcXN1YnNldFwiLCBcIlxcXFxzcXN1YnNldGVxXCIsIFwiXFxcXHNxc3Vwc2V0XCIsIFwiXFxcXHNxc3Vwc2V0ZXFcIiwgXCJcXFxcc3F1YXJlXCIsIFwiXFxcXHN0YXJcIiwgXCJcXFxcc3RydXRcIiwgXCJcXFxcc3Vic2V0XCIsIFwiXFxcXHN1YnNldGVxXCIsIFwiXFxcXHN1YnNldGVxcVwiLCBcIlxcXFxzdWJzZXRuZXFcIiwgXCJcXFxcc3Vic2V0bmVxcVwiLCBcIlxcXFxzdWJzdGFja3sje319XCIsIFwiXFxcXHN1Y2NcIiwgXCJcXFxcc3VjY2FwcHJveFwiLCBcIlxcXFxzdWNjY3VybHllcVwiLCBcIlxcXFxzdWNjZXFcIiwgXCJcXFxcc3VjY25hcHByb3hcIiwgXCJcXFxcc3VjY25lcXFcIiwgXCJcXFxcc3VjY25zaW1cIiwgXCJcXFxcc3VjY3NpbVwiLCBcIlxcXFxzdW1cXFxcbGltaXRzX3sje319Xnsje319XCIsIFwiXFxcXHN1cFwiLCBcIlxcXFxzdXBzZXRcIiwgXCJcXFxcc3Vwc2V0ZXFcIiwgXCJcXFxcc3Vwc2V0ZXFxXCIsIFwiXFxcXHN1cHNldG5lcVwiLCBcIlxcXFxzdXBzZXRuZXFxXCIsIFwiXFxcXHN1cmRcIiwgXCJcXFxcc3dhcnJvd1wiLCBcIlxcXFx0YWd7I3t9fVwiLCBcIlxcXFx0YW5cIiwgXCJcXFxcdGFuaFwiLCBcIlxcXFx0YXVcIiwgXCJcXFxcdGJpbm9teyN7fX17I3t9fVwiLCBcIlxcXFx0ZXh0eyN7fX1cIiwgXCJcXFxcdGV4dHN0eWxlXCIsIFwiXFxcXHRmcmFjeyN7fX17I3t9fVwiLCBcIlxcXFx0aGVyZWZvcmVcIiwgXCJcXFxcdGhldGFcIixcbiAgICAgICAgXCJcXFxcdGhpY2thcHByb3hcIiwgXCJcXFxcdGhpY2tzaW1cIiwgXCJcXFxcdGhpbnNwYWNlXCIsIFwiXFxcXHRpbGRleyN7fX1cIiwgXCJcXFxcdGltZXNcIiwgXCJcXFxcdG9cIiwgXCJcXFxcdG9wXCIsIFwiXFxcXHRyaWFuZ2xlXCIsIFwiXFxcXHRyaWFuZ2xlZG93blwiLCBcIlxcXFx0cmlhbmdsZWxlZnRcIiwgXCJcXFxcdHJpYW5nbGVsZWZ0ZXFcIiwgXCJcXFxcdHJpYW5nbGVxXCIsIFwiXFxcXHRyaWFuZ2xlcmlnaHRcIiwgXCJcXFxcdHJpYW5nbGVyaWdodGVxXCIsIFwiXFxcXHR0XCIsIFwiXFxcXHR3b2hlYWRsZWZ0YXJyb3dcIiwgXCJcXFxcdHdvaGVhZHJpZ2h0YXJyb3dcIiwgXCJcXFxcdWxjb3JuZXJcIiwgXCJcXFxcdW5kZXJicmFjZXsje319XCIsIFwiXFxcXHVuZGVybGVmdGFycm93eyN7fX1cIiwgXCJcXFxcdW5kZXJsZWZ0cmlnaHRhcnJvd3sje319XCIsIFwiXFxcXHVuZGVybGluZXsje319XCIsIFwiXFxcXHVuZGVycmlnaHRhcnJvd3sje319XCIsIFwiXFxcXHVuZGVyc2V0eyN7fX17I3t9fVwiLCBcIlxcXFx1bmxoZFwiLCBcIlxcXFx1bnJoZFwiLCBcIlxcXFx1cGFycm93XCIsIFwiXFxcXHVwZG93bmFycm93XCIsIFwiXFxcXHVwaGFycG9vbmxlZnRcIiwgXCJcXFxcdXBoYXJwb29ucmlnaHRcIiwgXCJcXFxcdXBsdXNcIiwgXCJcXFxcdXByb290eyN7fX1cIiwgXCJcXFxcdXBzaWxvblwiLCBcIlxcXFx1cHVwYXJyb3dzXCIsIFwiXFxcXHVyY29ybmVyXCIsIFwiXFxcXHZEYXNoXCIsIFwiXFxcXHZhckRlbHRhXCIsIFwiXFxcXHZhckdhbW1hXCIsIFwiXFxcXHZhckxhbWJkYVwiLCBcIlxcXFx2YXJPbWVnYVwiLCBcIlxcXFx2YXJQaGlcIiwgXCJcXFxcdmFyUGlcIiwgXCJcXFxcdmFyUHNpXCIsIFwiXFxcXHZhclNpZ21hXCIsIFwiXFxcXHZhclRoZXRhXCIsIFwiXFxcXHZhclVwc2lsb25cIiwgXCJcXFxcdmFyWGlcIiwgXCJcXFxcdmFyZXBzaWxvblwiLCBcIlxcXFx2YXJpbmpsaW1cIiwgXCJcXFxcdmFya2FwcGFcIiwgXCJcXFxcdmFybGltaW5mXCIsIFwiXFxcXHZhcmxpbXN1cFwiLCBcIlxcXFx2YXJub3RoaW5nXCIsIFwiXFxcXHZhcnBoaVwiLCBcIlxcXFx2YXJwaVwiLFxuICAgICAgICBcIlxcXFx2YXJwcm9qbGltXCIsIFwiXFxcXHZhcnByb3B0b1wiLCBcIlxcXFx2YXJyaG9cIiwgXCJcXFxcdmFyc2lnbWFcIiwgXCJcXFxcdmFyc3Vic2V0bmVxXCIsIFwiXFxcXHZhcnN1YnNldG5lcXFcIiwgXCJcXFxcdmFyc3Vwc2V0bmVxXCIsIFwiXFxcXHZhcnN1cHNldG5lcXFcIiwgXCJcXFxcdmFydGhldGFcIiwgXCJcXFxcdmFydHJpYW5nbGVcIiwgXCJcXFxcdmFydHJpYW5nbGVsZWZ0XCIsIFwiXFxcXHZhcnRyaWFuZ2xlcmlnaHRcIiwgXCJcXFxcdmNlbnRlclwiLCBcIlxcXFx2ZGFzaFwiLCBcIlxcXFx2ZWN7I3t9fVwiLCBcIlxcXFx2ZWVcIiwgXCJcXFxcdmVlYmFyXCIsIFwiXFxcXHZlcnRcIiwgXCJcXFxcdnBoYW50b217I3t9fVwiLCBcIlxcXFx3ZWRnZVwiLCBcIlxcXFx3aWRlaGF0eyN7fX1cIiwgXCJcXFxcd2lkZXRpbGRleyN7fX1cIiwgXCJcXFxcd3BcIiwgXCJcXFxcd3JcIiwgXCJcXFxceGlcIiwgXCJcXFxceGxlZnRhcnJvd3sje319XCIsIFwiXFxcXHhyaWdodGFycm93eyN7fX1cIiwgXCJcXFxcemV0YVwiLCBcIlxcXFxiZWdpbntkZWZpbml0aW9ufVwiLCBcIlxcXFxiZWdpbnt0aWt6Y2R9XCIsIFwiXFxcXGJlZ2lue3Rpa3pwaWN0dXJlfVwiLCBcIlxcXFxiZWdpbnthbGlnbn1cIiwgXCJcXFxcYmVnaW57YWxpZ24qfVwiLCBcIlxcXFxiZWdpbnthbGlnbmF0fVwiLCBcIlxcXFxiZWdpbnthbGlnbmF0Kn1cIiwgXCJcXFxcYmVnaW57YWxpZ25lZH1cIiwgXCJcXFxcYmVnaW57YWxpZ25lZGF0fVwiLCBcIlxcXFxiZWdpbnthcnJheX1cIiwgXCJcXFxcYmVnaW57Qm1hdHJpeH1cIiwgXCJcXFxcYmVnaW57Ym1hdHJpeH1cIiwgXCJcXFxcYmVnaW57Y2FzZXN9XCIsIFwiXFxcXGJlZ2lue0NEfVwiLCBcIlxcXFxiZWdpbntlcW5hcnJheX1cIiwgXCJcXFxcYmVnaW57ZXFuYXJyYXkqfVwiLCBcIlxcXFxiZWdpbntlcXVhdGlvbn1cIiwgXCJcXFxcYmVnaW57ZXF1YXRpb24qfVwiLCBcIlxcXFxiZWdpbntnYXRoZXJ9XCIsIFwiXFxcXGJlZ2lue2dhdGhlcip9XCIsIFwiXFxcXGJlZ2lue2dhdGhlcmVkfVwiLCBcIlxcXFxiZWdpbnttYXRyaXh9XCIsXG4gICAgICAgIFwiXFxcXGJlZ2lue211bHRsaW5lfVwiLCBcIlxcXFxiZWdpbnttdWx0bGluZSp9XCIsIFwiXFxcXGJlZ2lue3BtYXRyaXh9XCIsIFwiXFxcXGJlZ2lue3NtYWxsbWF0cml4fVwiLCBcIlxcXFxiZWdpbntzcGxpdH1cIiwgXCJcXFxcYmVnaW57c3ViYXJyYXl9XCIsIFwiXFxcXGJlZ2lue1ZtYXRyaXh9XCIsIFwiXFxcXGJlZ2lue3ZtYXRyaXh9XCJdXG59XG4iLCJpbXBvcnQge1xuICBEaXJlY3Rpb24sXG4gIGRlZmF1bHREaXJlY3Rpb24sXG4gIGdlbmVyYXRlVmlldyxcbiAgZ2V0UmFuZ2UsXG4gIGFwcGVuZFdpZGdldCxcbiAgdXBkYXRlQ2FjaGVkVmlldyxcbiAgc2Nyb2xsVG8sXG4gIGNvbXBsZXRpb25Xb3JkSW4sXG59IGZyb20gJy4vYXV0b2NvbXBsZXRlL3ZpZXcnXG5pbXBvcnQgTGF0ZXhQcm92aWRlciBmcm9tICcuL3Byb3ZpZGVycy9sYXRleCdcbmltcG9ydCB7IENvbXBsZXRpb24sIFByb3ZpZGVyIH0gZnJvbSAnLi9wcm92aWRlcnMvcHJvdmlkZXInXG5pbXBvcnQgeyBBdXRvY29tcGxldGVTZXR0aW5ncyB9IGZyb20gJy4vc2V0dGluZ3Mvc2V0dGluZ3MnXG5cbmV4cG9ydCBjbGFzcyBBdXRvY29tcGxldGUge1xuICBwcml2YXRlIHByb3ZpZGVyczogUHJvdmlkZXJbXVxuICBwcml2YXRlIHN1Z2dlc3Rpb25zOiBDb21wbGV0aW9uW11cbiAgcHJpdmF0ZSBzZWxlY3RlZDogRGlyZWN0aW9uXG5cbiAgcHJpdmF0ZSB2aWV3OiBIVE1MRWxlbWVudFxuICBwcml2YXRlIGN1cnNvckF0VHJpZ2dlcj86IENvZGVNaXJyb3IuUG9zaXRpb25cbiAgcHJpdmF0ZSBsYXN0Q29tcGxldGlvbldvcmQ/OiBzdHJpbmdcbiAgcHJpdmF0ZSBvbkNsaWNrQ2FsbGJhY2s6IChldmVudDogTW91c2VFdmVudCkgPT4gdm9pZFxuXG4gIHByaXZhdGUgc2V0dGluZ3M6IEF1dG9jb21wbGV0ZVNldHRpbmdzXG5cbiAgY29uc3RydWN0b3Ioc2V0dGluZ3M6IEF1dG9jb21wbGV0ZVNldHRpbmdzKSB7XG4gICAgdGhpcy5zZXR0aW5ncyA9IHNldHRpbmdzXG4gICAgdGhpcy5sb2FkUHJvdmlkZXJzKClcbiAgICB0aGlzLnN1Z2dlc3Rpb25zID0gW11cbiAgICB0aGlzLnNlbGVjdGVkID0gZGVmYXVsdERpcmVjdGlvbigpXG4gICAgdGhpcy52aWV3ID0gbnVsbFxuICB9XG5cbiAgcHVibGljIGlzU2hvd24oKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHRoaXMudmlldyAhPT0gbnVsbFxuICB9XG5cbiAgcHVibGljIHRvZ2dsZVZpZXdJbihlZGl0b3I6IENvZGVNaXJyb3IuRWRpdG9yKSB7XG4gICAgY29uc3QgaXNFbmFibGVkID0gdGhpcy5zZXR0aW5ncy5lbmFibGVkXG4gICAgaWYgKHRoaXMuaXNTaG93bigpIHx8ICFpc0VuYWJsZWQpIHtcbiAgICAgIHRoaXMuY3Vyc29yQXRUcmlnZ2VyID0gbnVsbFxuICAgICAgdGhpcy5yZW1vdmVWaWV3RnJvbShlZGl0b3IpXG4gICAgfSBlbHNlIGlmIChpc0VuYWJsZWQpIHtcbiAgICAgIHRoaXMuY3Vyc29yQXRUcmlnZ2VyID0gZWRpdG9yLmdldEN1cnNvcigpXG4gICAgICB0aGlzLnNob3dWaWV3SW4oZWRpdG9yKVxuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyB1cGRhdGVWaWV3SW4oZWRpdG9yOiBDb2RlTWlycm9yLkVkaXRvciwgZXZlbnQ6IEtleWJvYXJkRXZlbnQpIHtcbiAgICB0aGlzLmNoYW5nZVNlbGVjdGVkU3VnZ2VzdGlvbkZyb20oZXZlbnQpXG5cbiAgICBjb25zdCBjb21wbGV0aW9uV29yZCA9IGNvbXBsZXRpb25Xb3JkSW4oZWRpdG9yLCB0aGlzLmN1cnNvckF0VHJpZ2dlcilcblxuICAgIGNvbnN0IHJlY3JlYXRlID0gY29tcGxldGlvbldvcmQgIT09IHRoaXMubGFzdENvbXBsZXRpb25Xb3JkXG4gICAgaWYgKHJlY3JlYXRlKSB7XG4gICAgICB0aGlzLmxhc3RDb21wbGV0aW9uV29yZCA9IGNvbXBsZXRpb25Xb3JkXG4gICAgICB0aGlzLnNob3dWaWV3SW4oZWRpdG9yLCBjb21wbGV0aW9uV29yZClcbiAgICB9IGVsc2UgdXBkYXRlQ2FjaGVkVmlldyh0aGlzLnZpZXcsIHRoaXMuc2VsZWN0ZWQuaW5kZXgpXG5cbiAgICBzY3JvbGxUbyh0aGlzLnNlbGVjdGVkLCB0aGlzLnZpZXcsIHRoaXMuc3VnZ2VzdGlvbnMubGVuZ3RoKVxuICB9XG5cbiAgcHVibGljIHJlbW92ZVZpZXdGcm9tKGVkaXRvcjogQ29kZU1pcnJvci5FZGl0b3IpIHtcbiAgICB0aGlzLnNlbGVjdGVkID0gZGVmYXVsdERpcmVjdGlvbigpXG4gICAgdGhpcy5yZW1vdmVLZXlCaW5kaW5ncyhlZGl0b3IpXG5cbiAgICBpZiAoIXRoaXMudmlldykgcmV0dXJuXG4gICAgdGhpcy5hZGRDbGlja0xpc3RlbmVyKHRoaXMudmlldywgZWRpdG9yLCBmYWxzZSlcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBwYXJlbnROb2RlID0gdGhpcy52aWV3LnBhcmVudE5vZGVcbiAgICAgIGlmIChwYXJlbnROb2RlKSB7XG4gICAgICAgIGNvbnN0IHJlbW92ZWQgPSBwYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMudmlldylcbiAgICAgICAgaWYgKHJlbW92ZWQpIHRoaXMudmlldyA9IG51bGxcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBDYW5ub3QgZGVzdHJveSB2aWV3LiBSZWFzb246ICR7ZX1gKVxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgc2hvd1ZpZXdJbihlZGl0b3I6IENvZGVNaXJyb3IuRWRpdG9yLCBjb21wbGV0aW9uV29yZDogc3RyaW5nID0gJycpIHtcbiAgICBpZiAodGhpcy52aWV3KSB0aGlzLnJlbW92ZVZpZXdGcm9tKGVkaXRvcilcblxuICAgIHRoaXMuc3VnZ2VzdGlvbnMgPSB0aGlzLnByb3ZpZGVycy5yZWR1Y2UoXG4gICAgICAoYWNjLCBwcm92aWRlcikgPT4gYWNjLmNvbmNhdChwcm92aWRlci5tYXRjaFdpdGgoY29tcGxldGlvbldvcmQpKSxcbiAgICAgIFtdXG4gICAgKVxuXG4gICAgdGhpcy5hZGRLZXlCaW5kaW5ncyhlZGl0b3IpXG5cbiAgICB0aGlzLnZpZXcgPSBnZW5lcmF0ZVZpZXcodGhpcy5zdWdnZXN0aW9ucywgdGhpcy5zZWxlY3RlZC5pbmRleClcbiAgICB0aGlzLmFkZENsaWNrTGlzdGVuZXIodGhpcy52aWV3LCBlZGl0b3IpXG4gICAgYXBwZW5kV2lkZ2V0KGVkaXRvciwgdGhpcy52aWV3KVxuICB9XG5cbiAgcHJpdmF0ZSBjaGFuZ2VTZWxlY3RlZFN1Z2dlc3Rpb25Gcm9tKGV2ZW50OiBLZXlib2FyZEV2ZW50KSB7XG4gICAgc3dpdGNoIChgJHtldmVudC5jdHJsS2V5fSAke2V2ZW50LmtleX1gKSB7XG4gICAgICBjYXNlICd0cnVlIHAnOlxuICAgICAgY2FzZSAnZmFsc2UgQXJyb3dVcCc6XG4gICAgICAgIGNvbnN0IGRlY3JlYXNlZCA9IHRoaXMuc2VsZWN0ZWQuaW5kZXggLSAxXG4gICAgICAgIHRoaXMuc2VsZWN0ZWQgPSB7XG4gICAgICAgICAgaW5kZXg6IGRlY3JlYXNlZCA8IDAgPyB0aGlzLnN1Z2dlc3Rpb25zLmxlbmd0aCAtIDEgOiBkZWNyZWFzZWQsXG4gICAgICAgICAgZGlyZWN0aW9uOiAnYmFja3dhcmQnLFxuICAgICAgICB9XG4gICAgICAgIGJyZWFrXG4gICAgICBjYXNlICd0cnVlIG4nOlxuICAgICAgY2FzZSAnZmFsc2UgQXJyb3dEb3duJzpcbiAgICAgICAgY29uc3QgaW5jcmVhc2VkID0gdGhpcy5zZWxlY3RlZC5pbmRleCArIDFcbiAgICAgICAgdGhpcy5zZWxlY3RlZCA9IHtcbiAgICAgICAgICBpbmRleDogaW5jcmVhc2VkID49IHRoaXMuc3VnZ2VzdGlvbnMubGVuZ3RoID8gMCA6IGluY3JlYXNlZCxcbiAgICAgICAgICBkaXJlY3Rpb246ICdmb3J3YXJkJyxcbiAgICAgICAgfVxuICAgICAgICBicmVha1xuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgYWRkS2V5QmluZGluZ3MoZWRpdG9yOiBDb2RlTWlycm9yLkVkaXRvcikge1xuICAgIGVkaXRvci5hZGRLZXlNYXAodGhpcy5rZXlNYXBzKVxuICB9XG5cbiAgcHJpdmF0ZSByZW1vdmVLZXlCaW5kaW5ncyhlZGl0b3I6IENvZGVNaXJyb3IuRWRpdG9yKSB7XG4gICAgZWRpdG9yLnJlbW92ZUtleU1hcCh0aGlzLmtleU1hcHMpXG4gIH1cblxuICBwcml2YXRlIGtleU1hcHMgPSB7XG4gICAgLy8gT3ZlcnJpZGUgY29kZSBtaXJyb3IgZGVmYXVsdCBrZXkgbWFwc1xuICAgICdDdHJsLVAnOiAoKSA9PiB7fSxcbiAgICAnQ3RybC1OJzogKCkgPT4ge30sXG4gICAgRG93bjogKCkgPT4ge30sXG4gICAgVXA6ICgpID0+IHt9LFxuICAgIEVudGVyOiAoZWRpdG9yOiBDb2RlTWlycm9yLkVkaXRvcikgPT4ge1xuICAgICAgdGhpcy5zZWxlY3RTdWdnZXN0aW9uKGVkaXRvcilcbiAgICB9LFxuICAgIEVzYzogKGVkaXRvcjogQ29kZU1pcnJvci5FZGl0b3IpID0+IHtcbiAgICAgIHRoaXMucmVtb3ZlVmlld0Zyb20oZWRpdG9yKVxuICAgICAgaWYgKGVkaXRvci5nZXRPcHRpb24oJ2tleU1hcCcpID09PSAndmltLWluc2VydCcpXG4gICAgICAgIGVkaXRvci5vcGVyYXRpb24oKCkgPT4ge1xuICAgICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9jb2RlbWlycm9yL0NvZGVNaXJyb3IvYmxvYi9iZDM3YTk2ZDM2MmI4ZDkyODk1ZDM5NjBkNTY5MTY4ZWMzOWU0MTY1L2tleW1hcC92aW0uanMjTDUzNDFcbiAgICAgICAgICBjb25zdCB2aW0gPSBlZGl0b3Iuc3RhdGUudmltXG4gICAgICAgICAgdmltLmluc2VydE1vZGUgPSBmYWxzZVxuICAgICAgICAgIGVkaXRvci5zZXRPcHRpb24oJ2tleU1hcCcsICd2aW0nKVxuICAgICAgICB9KVxuICAgIH0sXG4gIH1cblxuICAvLyBUT0RPOiBSZWZhY3RvclxuICBwcml2YXRlIGFkZENsaWNrTGlzdGVuZXIoXG4gICAgdmlldzogSFRNTEVsZW1lbnQsXG4gICAgZWRpdG9yOiBDb2RlTWlycm9yLkVkaXRvcixcbiAgICBhZGQgPSB0cnVlXG4gICkge1xuICAgIGlmICghdGhpcy5vbkNsaWNrQ2FsbGJhY2spXG4gICAgICB0aGlzLm9uQ2xpY2tDYWxsYmFjayA9IChldmVudCkgPT4ge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gZXZlbnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50XG4gICAgICAgIGxldCBoaW50SWQgPSBlbGVtZW50LmlkXG4gICAgICAgIGlmICghaGludElkKSB7XG4gICAgICAgICAgY29uc3QgcGFyZW50ID0gZWxlbWVudC5wYXJlbnROb2RlIGFzIEhUTUxFbGVtZW50XG4gICAgICAgICAgaWYgKHBhcmVudCAmJiBwYXJlbnQuaWQpIGhpbnRJZCA9IHBhcmVudC5pZFxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgaGludElkUHJlZml4ID0gJ3N1Z2dlc3Rpb24tJ1xuICAgICAgICBpZiAoaGludElkICYmIGhpbnRJZC5zdGFydHNXaXRoKGhpbnRJZFByZWZpeCkpIHtcbiAgICAgICAgICBoaW50SWQgPSBoaW50SWQucmVwbGFjZShoaW50SWRQcmVmaXgsICcnKVxuICAgICAgICAgIGNvbnN0IGlkID0gcGFyc2VJbnQoaGludElkKVxuICAgICAgICAgIGlmIChpZCAmJiBpZCA+IDAgJiYgaWQgPCB0aGlzLnN1Z2dlc3Rpb25zLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RlZC5pbmRleCA9IGlkXG4gICAgICAgICAgICB0aGlzLnNlbGVjdFN1Z2dlc3Rpb24oZWRpdG9yKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgaWYgKGFkZCkgdmlldy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25DbGlja0NhbGxiYWNrKVxuICAgIGVsc2Ugdmlldy5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMub25DbGlja0NhbGxiYWNrKVxuICB9XG5cbiAgcHJpdmF0ZSBzZWxlY3RTdWdnZXN0aW9uKGVkaXRvcjogQ29kZU1pcnJvci5FZGl0b3IpIHtcbiAgICBjb25zdCBjdXJzb3IgPSBlZGl0b3IuZ2V0Q3Vyc29yKClcbiAgICBjb25zdCBzZWxlY3RlZFZhbHVlID0gdGhpcy5zdWdnZXN0aW9uc1t0aGlzLnNlbGVjdGVkLmluZGV4XS52YWx1ZVxuICAgIGNvbnN0IFtyZXBsYWNlRnJvbSwgcmVwbGFjZVRvXSA9IGdldFJhbmdlKHRoaXMuY3Vyc29yQXRUcmlnZ2VyLCBjdXJzb3IuY2gpXG5cbiAgICBlZGl0b3Iub3BlcmF0aW9uKCgpID0+IHtcbiAgICAgIGVkaXRvci5yZXBsYWNlUmFuZ2Uoc2VsZWN0ZWRWYWx1ZSwgcmVwbGFjZUZyb20sIHJlcGxhY2VUbylcblxuICAgICAgY29uc3QgbmV3Q3Vyc29yUG9zaXRpb24gPSByZXBsYWNlRnJvbS5jaCArIHNlbGVjdGVkVmFsdWUubGVuZ3RoXG4gICAgICBjb25zdCB1cGRhdGVkQ3Vyc29yID0ge1xuICAgICAgICBsaW5lOiBjdXJzb3IubGluZSxcbiAgICAgICAgY2g6IG5ld0N1cnNvclBvc2l0aW9uLFxuICAgICAgfVxuICAgICAgZWRpdG9yLnNldEN1cnNvcih1cGRhdGVkQ3Vyc29yKVxuICAgIH0pXG4gICAgLy8gTmVlZCB0byByZW1vdmUgaXQgaGVyZSBiZWNhdXNlIG9mIGZvY3VzXG4gICAgdGhpcy5yZW1vdmVWaWV3RnJvbShlZGl0b3IpXG4gICAgZWRpdG9yLmZvY3VzKClcbiAgfVxuXG4gIHByaXZhdGUgbG9hZFByb3ZpZGVycygpIHtcbiAgICBjb25zdCBwcm92aWRlcnMgPSBbXVxuICAgIGlmICh0aGlzLnNldHRpbmdzLmxhdGV4UHJvdmlkZXIpIHByb3ZpZGVycy5wdXNoKG5ldyBMYXRleFByb3ZpZGVyKCkpXG5cbiAgICB0aGlzLnByb3ZpZGVycyA9IHByb3ZpZGVyc1xuICB9XG59XG4iLCJleHBvcnQgY2xhc3MgQXV0b2NvbXBsZXRlU2V0dGluZ3Mge1xuICBlbmFibGVkOiBib29sZWFuID0gdHJ1ZVxuICBsYXRleFByb3ZpZGVyOiBib29sZWFuID0gdHJ1ZVxufVxuIiwiaW1wb3J0IHsgQXBwLCBQbHVnaW5TZXR0aW5nVGFiLCBTZXR0aW5nIH0gZnJvbSAnb2JzaWRpYW4nXG5pbXBvcnQgQXV0b2NvbXBsZXRlUGx1Z2luIGZyb20gJy4uL21haW4nXG5cbmV4cG9ydCBjbGFzcyBBdXRvY29tcGxldGVTZXR0aW5nc1RhYiBleHRlbmRzIFBsdWdpblNldHRpbmdUYWIge1xuICBwbHVnaW46IEF1dG9jb21wbGV0ZVBsdWdpblxuXG4gIGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IEF1dG9jb21wbGV0ZVBsdWdpbikge1xuICAgIHN1cGVyKGFwcCwgcGx1Z2luKVxuICAgIHRoaXMucGx1Z2luID0gcGx1Z2luXG4gIH1cblxuICBkaXNwbGF5KCk6IHZvaWQge1xuICAgIGNvbnN0IHsgY29udGFpbmVyRWwgfSA9IHRoaXNcblxuICAgIGNvbnRhaW5lckVsLmVtcHR5KClcblxuICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgLnNldE5hbWUoJ0VuYWJsZWQnKVxuICAgICAgLnNldERlc2MoJ1NldCB0aGUgYXV0b2NvbXBsZXRlIHN0YXRlJylcbiAgICAgIC5hZGRUb2dnbGUoKGNiKSA9PlxuICAgICAgICBjYi5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbmFibGVkKS5vbkNoYW5nZSgodmFsdWUpID0+IHtcbiAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5lbmFibGVkID0gdmFsdWVcbiAgICAgICAgICB0aGlzLnBsdWdpbi5zYXZlRGF0YSh0aGlzLnBsdWdpbi5zZXR0aW5ncylcbiAgICAgICAgICB0aGlzLnBsdWdpbi5yZWZyZXNoKClcbiAgICAgICAgfSlcbiAgICAgIClcblxuICAgIC8vIFByb3ZpZGVyc1xuICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgLnNldE5hbWUoJ1RleHQgUHJvdmlkZXJzJylcbiAgICAgIC5zZXREZXNjKCdUaGUgcHJvdmlkZXJzIGJlbG93IHN1Z2dlc3QgY29tcGxldGlvbnMgYmFzZWQgb24gaW5wdXQuIEJlIGF3YXJlIHRoYXQgZW5hYmxpbmcgbXVsdGlwbGUgcHJvdmlkZXJzIGNhbiBkZWNyZWFzZSBwZXJmb3JtYW5jZS4nKVxuICAgICAgLnNldEhlYWRpbmcoKVxuXG4gICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAuc2V0Q2xhc3MoJ25vLWJvcmRlci10b3AnKVxuICAgICAgLnNldE5hbWUoJ0xhVGV4IFByb3ZpZGVyJylcbiAgICAgIC5zZXREZXNjKCdUb2dnbGUgTGFUZXggc3VnZ2VzdGlvbnMnKVxuICAgICAgLmFkZFRvZ2dsZSgoY2IpID0+XG4gICAgICAgIGNiLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmxhdGV4UHJvdmlkZXIpLm9uQ2hhbmdlKCh2YWx1ZSkgPT4ge1xuICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmxhdGV4UHJvdmlkZXIgPSB2YWx1ZVxuICAgICAgICAgIHRoaXMucGx1Z2luLnNhdmVEYXRhKHRoaXMucGx1Z2luLnNldHRpbmdzKVxuICAgICAgICAgIHRoaXMucGx1Z2luLnJlZnJlc2goKVxuICAgICAgICB9KVxuICAgICAgKVxuICB9XG59XG4iLCJpbXBvcnQgeyBNYXJrZG93blZpZXcsIFBsdWdpbiB9IGZyb20gJ29ic2lkaWFuJ1xuaW1wb3J0IHsgQXV0b2NvbXBsZXRlIH0gZnJvbSAnLi9hdXRvY29tcGxldGUnXG5pbXBvcnQgeyBBdXRvY29tcGxldGVTZXR0aW5ncyB9IGZyb20gJy4vc2V0dGluZ3Mvc2V0dGluZ3MnXG5pbXBvcnQgeyBBdXRvY29tcGxldGVTZXR0aW5nc1RhYiB9IGZyb20gJy4vc2V0dGluZ3Mvc2V0dGluZ3MtdGFiJ1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBdXRvY29tcGxldGVQbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xuICBwcml2YXRlIGF1dG9jb21wbGV0ZTogQXV0b2NvbXBsZXRlXG4gIHByaXZhdGUgbGFzdFVzZWRFZGl0b3I6IENvZGVNaXJyb3IuRWRpdG9yXG4gIHNldHRpbmdzOiBBdXRvY29tcGxldGVTZXR0aW5nc1xuXG4gIGFzeW5jIG9ubG9hZCgpIHtcbiAgICBjb25zb2xlLmxvZygnTG9hZGluZyBBdXRvY29tcGxldGUgcGx1Z2luLicpXG4gICAgdGhpcy5zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oXG4gICAgICBuZXcgQXV0b2NvbXBsZXRlU2V0dGluZ3MoKSxcbiAgICAgIGF3YWl0IHRoaXMubG9hZERhdGEoKVxuICAgIClcbiAgICB0aGlzLmFkZFNldHRpbmdUYWIobmV3IEF1dG9jb21wbGV0ZVNldHRpbmdzVGFiKHRoaXMuYXBwLCB0aGlzKSlcblxuICAgIGlmICghdGhpcy5zZXR0aW5ncy5lbmFibGVkKSByZXR1cm5cblxuICAgIHRoaXMuZW5hYmxlKClcbiAgICB0aGlzLmFkZENvbW1hbmRzKClcbiAgfVxuXG4gIGFzeW5jIG9udW5sb2FkKCkge1xuICAgIGNvbnNvbGUubG9nKCdVbmxvYWRlZCBPYnNpZGlhbiBBdXRvY29tcGxldGUnKVxuICAgIHRoaXMuZGlzYWJsZSgpXG4gIH1cblxuICBhc3luYyByZWZyZXNoKCkge1xuICAgIHRoaXMuZGlzYWJsZSgpXG4gICAgdGhpcy5lbmFibGUoKVxuICB9XG5cbiAgcHJpdmF0ZSBhZGRDb21tYW5kcygpIHtcbiAgICB0aGlzLmFkZENvbW1hbmQoe1xuICAgICAgaWQ6ICdhdXRvY29tcGxldGUtdG9nZ2xlJyxcbiAgICAgIG5hbWU6ICdUb2dnbGUgQXV0b2NvbXBsZXRlJyxcbiAgICAgIGhvdGtleXM6IFtcbiAgICAgICAge1xuICAgICAgICAgIG1vZGlmaWVyczogWydDdHJsJ10sXG4gICAgICAgICAga2V5OiAnICcsXG4gICAgICAgIH0sXG4gICAgICBdLFxuICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgY29uc3QgZWRpdG9yID0gdGhpcy5nZXRDdXJyZW50RWRpdG9yKClcblxuICAgICAgICBpZiAoZWRpdG9yKSB7XG4gICAgICAgICAgY29uc3QgYXV0b2NvbXBsZXRlID0gdGhpcy5hdXRvY29tcGxldGVcblxuICAgICAgICAgIHRoaXMudXBkYXRlRWRpdG9ySWZDaGFuZ2VkKGVkaXRvciwgYXV0b2NvbXBsZXRlKVxuXG4gICAgICAgICAgLy8gRG8gbm90IG9wZW4gb24gdmltIG5vcm1hbCBtb2RlXG4gICAgICAgICAgaWYgKGVkaXRvci5nZXRPcHRpb24oJ2tleU1hcCcpID09PSAndmltJykgcmV0dXJuXG5cbiAgICAgICAgICB0aGlzLmF1dG9jb21wbGV0ZS50b2dnbGVWaWV3SW4oZWRpdG9yKVxuICAgICAgICB9XG4gICAgICB9LFxuICAgIH0pXG4gIH1cblxuICBlbmFibGUoKSB7XG4gICAgdGhpcy5hdXRvY29tcGxldGUgPSBuZXcgQXV0b2NvbXBsZXRlKHRoaXMuc2V0dGluZ3MpXG4gICAgdGhpcy5yZWdpc3RlckNvZGVNaXJyb3IoKGVkaXRvcikgPT4ge1xuICAgICAgZWRpdG9yLm9uKCdrZXl1cCcsIHRoaXMua2V5VXBMaXN0ZW5lcilcbiAgICB9KVxuICB9XG5cbiAgZGlzYWJsZSgpIHtcbiAgICBjb25zdCB3b3Jrc3BhY2UgPSB0aGlzLmFwcC53b3Jrc3BhY2VcbiAgICB3b3Jrc3BhY2UuaXRlcmF0ZUNvZGVNaXJyb3JzKChjbSkgPT4ge1xuICAgICAgY20ub2ZmKCdrZXl1cCcsIHRoaXMua2V5VXBMaXN0ZW5lcilcbiAgICAgIHRoaXMuYXV0b2NvbXBsZXRlLnJlbW92ZVZpZXdGcm9tKGNtKVxuICAgIH0pXG4gIH1cblxuICBwcml2YXRlIGtleVVwTGlzdGVuZXIgPSAoZWRpdG9yOiBDb2RlTWlycm9yLkVkaXRvciwgZXZlbnQ6IEtleWJvYXJkRXZlbnQpID0+IHtcbiAgICBjb25zdCBhdXRvY29tcGxldGUgPSB0aGlzLmF1dG9jb21wbGV0ZVxuICAgIGlmICghYXV0b2NvbXBsZXRlLmlzU2hvd24oKSkgcmV0dXJuXG5cbiAgICB0aGlzLnVwZGF0ZUVkaXRvcklmQ2hhbmdlZChlZGl0b3IsIGF1dG9jb21wbGV0ZSlcblxuICAgIHRoaXMuYXV0b2NvbXBsZXRlLnVwZGF0ZVZpZXdJbihlZGl0b3IsIGV2ZW50KVxuICB9XG5cbiAgcHJpdmF0ZSB1cGRhdGVFZGl0b3JJZkNoYW5nZWQoXG4gICAgZWRpdG9yOiBDb2RlTWlycm9yLkVkaXRvcixcbiAgICBhdXRvY29tcGxldGU6IEF1dG9jb21wbGV0ZVxuICApIHtcbiAgICBpZiAoIXRoaXMubGFzdFVzZWRFZGl0b3IpIHRoaXMubGFzdFVzZWRFZGl0b3IgPSBlZGl0b3JcblxuICAgIGlmIChlZGl0b3IgIT09IHRoaXMubGFzdFVzZWRFZGl0b3IpIHtcbiAgICAgIGF1dG9jb21wbGV0ZS5yZW1vdmVWaWV3RnJvbSh0aGlzLmxhc3RVc2VkRWRpdG9yKVxuICAgICAgdGhpcy5sYXN0VXNlZEVkaXRvciA9IGVkaXRvclxuICAgIH1cbiAgfVxuXG4gIHByaXZhdGUgZ2V0Q3VycmVudEVkaXRvcigpOiBDb2RlTWlycm9yLkVkaXRvciB8IG51bGwge1xuICAgIGNvbnN0IHZpZXcgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlVmlld09mVHlwZShNYXJrZG93blZpZXcpXG5cbiAgICByZXR1cm4gdmlldyA/IHZpZXcuc291cmNlTW9kZS5jbUVkaXRvciA6IG51bGxcbiAgfVxufVxuIl0sIm5hbWVzIjpbIlNldHRpbmciLCJQbHVnaW5TZXR0aW5nVGFiIiwiTWFya2Rvd25WaWV3IiwiUGx1Z2luIl0sIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJLGFBQWEsR0FBRyxTQUFTLENBQUMsRUFBRSxDQUFDLEVBQUU7QUFDbkMsSUFBSSxhQUFhLEdBQUcsTUFBTSxDQUFDLGNBQWM7QUFDekMsU0FBUyxFQUFFLFNBQVMsRUFBRSxFQUFFLEVBQUUsWUFBWSxLQUFLLElBQUksVUFBVSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLFNBQVMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDO0FBQ3BGLFFBQVEsVUFBVSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsS0FBSyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUUsSUFBSSxNQUFNLENBQUMsU0FBUyxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDO0FBQzFHLElBQUksT0FBTyxhQUFhLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0FBQy9CLENBQUMsQ0FBQztBQUNGO0FBQ08sU0FBUyxTQUFTLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRTtBQUNoQyxJQUFJLGFBQWEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7QUFDeEIsSUFBSSxTQUFTLEVBQUUsR0FBRyxFQUFFLElBQUksQ0FBQyxXQUFXLEdBQUcsQ0FBQyxDQUFDLEVBQUU7QUFDM0MsSUFBSSxDQUFDLENBQUMsU0FBUyxHQUFHLENBQUMsS0FBSyxJQUFJLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUMsU0FBUyxHQUFHLENBQUMsQ0FBQyxTQUFTLEVBQUUsSUFBSSxFQUFFLEVBQUUsQ0FBQyxDQUFDO0FBQ3pGLENBQUM7QUF1Q0Q7QUFDTyxTQUFTLFNBQVMsQ0FBQyxPQUFPLEVBQUUsVUFBVSxFQUFFLENBQUMsRUFBRSxTQUFTLEVBQUU7QUFDN0QsSUFBSSxTQUFTLEtBQUssQ0FBQyxLQUFLLEVBQUUsRUFBRSxPQUFPLEtBQUssWUFBWSxDQUFDLEdBQUcsS0FBSyxHQUFHLElBQUksQ0FBQyxDQUFDLFVBQVUsT0FBTyxFQUFFLEVBQUUsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUU7QUFDaEgsSUFBSSxPQUFPLEtBQUssQ0FBQyxLQUFLLENBQUMsR0FBRyxPQUFPLENBQUMsRUFBRSxVQUFVLE9BQU8sRUFBRSxNQUFNLEVBQUU7QUFDL0QsUUFBUSxTQUFTLFNBQVMsQ0FBQyxLQUFLLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFO0FBQ25HLFFBQVEsU0FBUyxRQUFRLENBQUMsS0FBSyxFQUFFLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsT0FBTyxDQUFDLEVBQUUsRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFO0FBQ3RHLFFBQVEsU0FBUyxJQUFJLENBQUMsTUFBTSxFQUFFLEVBQUUsTUFBTSxDQUFDLElBQUksR0FBRyxPQUFPLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxRQUFRLENBQUMsQ0FBQyxFQUFFO0FBQ3RILFFBQVEsSUFBSSxDQUFDLENBQUMsU0FBUyxHQUFHLFNBQVMsQ0FBQyxLQUFLLENBQUMsT0FBTyxFQUFFLFVBQVUsSUFBSSxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDO0FBQzlFLEtBQUssQ0FBQyxDQUFDO0FBQ1AsQ0FBQztBQUNEO0FBQ08sU0FBUyxXQUFXLENBQUMsT0FBTyxFQUFFLElBQUksRUFBRTtBQUMzQyxJQUFJLElBQUksQ0FBQyxHQUFHLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxJQUFJLEVBQUUsV0FBVyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxJQUFJLEVBQUUsRUFBRSxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUM7QUFDckgsSUFBSSxPQUFPLENBQUMsR0FBRyxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsT0FBTyxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxRQUFRLEVBQUUsSUFBSSxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsT0FBTyxNQUFNLEtBQUssVUFBVSxLQUFLLENBQUMsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLEdBQUcsV0FBVyxFQUFFLE9BQU8sSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztBQUM3SixJQUFJLFNBQVMsSUFBSSxDQUFDLENBQUMsRUFBRSxFQUFFLE9BQU8sVUFBVSxDQUFDLEVBQUUsRUFBRSxPQUFPLElBQUksQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFO0FBQ3RFLElBQUksU0FBUyxJQUFJLENBQUMsRUFBRSxFQUFFO0FBQ3RCLFFBQVEsSUFBSSxDQUFDLEVBQUUsTUFBTSxJQUFJLFNBQVMsQ0FBQyxpQ0FBaUMsQ0FBQyxDQUFDO0FBQ3RFLFFBQVEsT0FBTyxDQUFDLEVBQUUsSUFBSTtBQUN0QixZQUFZLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsSUFBSSxFQUFFLE9BQU8sQ0FBQyxDQUFDO0FBQ3pLLFlBQVksSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFB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
